[pytest]
# Базовая конфигурация pytest для Playwright тестов

# Опции для pytest-playwright
addopts = 
    --browser=chromium
    --slowmo=0
    --video=retain-on-failure
    --screenshot=only-on-failure
    --tracing=retain-on-failure
    -v
    --tb=short
    --html=reports/report.html

# Директории с тестами
testpaths = tests

# Паттерн для поиска тестовых файлов
python_files = test_*.py

# Паттерн для поиска тестовых функций
python_functions = test_*

# Паттерн для поиска тестовых классов
python_classes = Test*

# Маркеры
markers =
    regression: e2e regression checks
    ui: UI/visual regression (snapshots)
    smoke: Smoke tests (быстрые проверки критичного функционала)
    chat: Тесты AI-чата
    knowledge: Тесты базы знаний
    slow: Медленные тесты (требуют времени на AI ответы)

# Игнорируемые файлы
norecursedirs = .git __pycache__ venv env .venv .pytest_cache reports

# 📊 ВИЗУАЛЬНАЯ СТРУКТУРА ПРОЕКТА V2

## 🎨 ПОЛЬЗОВАТЕЛЬСКИЙ ПУТЬ

```
┌────────────────────────────────────────────────────────────────────┐
│                         ПОЛЬЗОВАТЕЛЬ                               │
└────────────────────────────────────────────────────────────────────┘
                                 │
                                 ▼
┌────────────────────────────────────────────────────────────────────┐
│                          DASHBOARD                                 │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │  👤 Уровень 3 | 1250 XP | Стрик: 7 дней                     │ │
│  │                                                              │ │
│  │  📊 ВАША КАРТА ОБУЧЕНИЯ:                                    │ │
│  │                                                              │ │
│  │  ✅ 1. HTML          [████████████] 100%                    │ │
│  │      12/12 завершено                                        │ │
│  │           ↓                                                  │ │
│  │  ⏳ 2. CSS           [████░░░░░░░░] 35%                     │ │
│  │      6/18 завершено                                         │ │
│  │           ↓                                                  │ │
│  │  🔒 3. JavaScript    [░░░░░░░░░░░░] 0%                      │ │
│  │      Требуется: CSS 80%+                                    │ │
│  │           ↓                                                  │ │
│  │  🔒 4. Advanced      [░░░░░░░░░░░░] 0%                      │ │
│  │      Требуется: JavaScript 80%+                             │ │
│  │           ↓                                                  │ │
│  │  🔒 5. Projects      [░░░░░░░░░░░░] 0%                      │ │
│  │      Требуется: Advanced 100%                               │ │
│  └──────────────────────────────────────────────────────────────┘ │
│                                                                    │
│  [Продолжить обучение]  [История]  [Чат с AI]                    │
└────────────────────────────────────────────────────────────────────┘
                                 │
                                 │ (клик на этап)
                                 ▼
┌────────────────────────────────────────────────────────────────────┐
│                      STAGE VIEW (CSS)                              │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │  ← Назад    🎨 ЭТАП 2: CSS - Стилизация и дизайн           │ │
│  │                                                              │ │
│  │  Прогресс: 35%  [████░░░░░░░░]                             │ │
│  │  Завершено: 6 из 18 подэтапов | ~11 часов осталось         │ │
│  └──────────────────────────────────────────────────────────────┘ │
│                                                                    │
│  ПОДЭТАПЫ:                                                         │
│                                                                    │
│  ✅ 2.1 Что такое CSS?                                            │
│      Теория | 30 мин | Завершено                                 │
│                                                                    │
│  ✅ 2.2 Селекторы (тег, класс, id)                               │
│      Теория | 45 мин | Завершено                                 │
│                                                                    │
│  ✅ 2.3 Практика: Стилизуйте страницу                            │
│      Практика | 30 мин | Оценка: 92/100 ⭐                       │
│                                                                    │
│  ✅ 2.4 Цвета, фоны, границы                                      │
│      Теория | 40 мин | Завершено                                 │
│                                                                    │
│  ✅ 2.5 Текст и шрифты                                            │
│      Теория | 35 мин | Завершено                                 │
│                                                                    │
│  ✅ 2.6 Практика: Типографика                                     │
│      Практика | 30 мин | Оценка: 88/100 ⭐                       │
│                                                                    │
│  ⏳ 2.7 Box Model                                 [Открыть] ◄─┐  │
│      Теория | 50 мин | В процессе                          │  │
│                                                              │  │
│  🔒 2.8 Display и Positioning                                │  │
│      Теория | 45 мин | Заблокировано                        │  │
│      Требуется: завершить 2.7                                │  │
│                                                              │  │
│  🔒 2.9 Практика: Карточка товара                            │  │
│  ...                                                         │  │
└──────────────────────────────────────────────────────────────┼───┘
                                                               │
                                (клик "Открыть")               │
                                                               │
                                ┌──────────────────────────────┘
                                ▼
┌────────────────────────────────────────────────────────────────────┐
│                  MATERIAL VIEWER (2.7 Box Model)                   │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │  ← Назад к этапу                                            │ │
│  │                                                              │ │
│  │  📚 2.7 Box Model (margin, padding, border, content)        │ │
│  │  Время: ~50 минут | Тип: Теория                            │ │
│  └──────────────────────────────────────────────────────────────┘ │
│                                                                    │
│  ┌────────────────────────────────────────────────────────────┐   │
│  │  ## Что такое Box Model?                                   │   │
│  │                                                             │   │
│  │  Каждый HTML элемент в CSS представлен как прямоугольник  │   │
│  │  (box), который состоит из четырех областей...            │   │
│  │                                                             │   │
│  │  [Диаграмма Box Model]                                     │   │
│  │                                                             │   │
│  │  ### Пример:                                               │   │
│  │  ```css                                                     │   │
│  │  .box {                                                     │   │
│  │    width: 300px;                                           │   │
│  │    padding: 20px;                                          │   │
│  │    border: 5px solid black;                                │   │
│  │    margin: 10px;                                           │   │
│  │  }                                                          │   │
│  │  ```                                                        │   │
│  │                                                             │   │
│  │  [Интерактивная демонстрация ▶]                           │   │
│  │                                                             │   │
│  │  ### Ключевые моменты:                                     │   │
│  │  ✓ content - содержимое элемента                          │   │
│  │  ✓ padding - внутренний отступ                            │   │
│  │  ✓ border - граница элемента                              │   │
│  │  ✓ margin - внешний отступ                                │   │
│  └─────────────────────────────────────────────────────────────┘  │
│                                                                    │
│  [✓ Отметить как прочитанное]  [Далее →]                         │
└────────────────────────────────────────────────────────────────────┘
                                 │
                                 │ (после теории → практика)
                                 ▼
┌────────────────────────────────────────────────────────────────────┐
│              PRACTICE ZONE (2.9 Карточка товара)                   │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │  ✏️ 2.9 Практика: Создайте карточку товара                  │ │
│  │  Сложность: Средняя | Попыток осталось: 3                   │ │
│  └──────────────────────────────────────────────────────────────┘ │
│                                                                    │
│  📝 ЗАДАНИЕ:                                                       │
│  Создайте карточку товара с изображением, названием, ценой        │
│  и кнопкой "Купить". Используйте Box Model для отступов.          │
│                                                                    │
│  ТРЕБОВАНИЯ:                                                       │
│  ✓ Общая ширина карточки: 300px                                   │
│  ✓ Padding: 20px                                                  │
│  ✓ Border: 1px solid #ddd                                         │
│  ✓ Border-radius: 8px для скругления                              │
│  ✓ Margin между элементами                                        │
│                                                                    │
│  ┌────────────────────────────────────────────────────────────┐   │
│  │  РЕДАКТОР КОДА:                                            │   │
│  │                                                             │   │
│  │  ```css                                                     │   │
│  │  .product-card {                                           │   │
│  │    /* Ваш код здесь */                                     │   │
│  │                                                             │   │
│  │  }                                                          │   │
│  │  ```                                                        │   │
│  │                                                             │   │
│  │  ```html                                                    │   │
│  │  <div class="product-card">                                │   │
│  │    <img src="..." alt="Товар">                             │   │
│  │    <h3>Название товара</h3>                                │   │
│  │    <p class="price">$99.99</p>                             │   │
│  │    <button>Купить</button>                                 │   │
│  │  </div>                                                     │   │
│  │  ```                                                        │   │
│  └─────────────────────────────────────────────────────────────┘  │
│                                                                    │
│  [Предпросмотр]  [Проверить решение]  [Подсказка 💡]             │
└────────────────────────────────────────────────────────────────────┘
                                 │
                                 │ (после проверки)
                                 ▼
┌────────────────────────────────────────────────────────────────────┐
│                      PRACTICE RESULT                               │
│  ┌──────────────────────────────────────────────────────────────┐ │
│  │  🎉 ОТЛИЧНО!                                                 │ │
│  │                                                              │ │
│  │  Ваша оценка: 88/100 ⭐⭐⭐                                   │ │
│  │  Проходной балл: 70 - УСПЕШНО ✓                             │ │
│  └──────────────────────────────────────────────────────────────┘ │
│                                                                    │
│  📊 ДЕТАЛИ ОЦЕНКИ:                                                 │
│                                                                    │
│  ✅ Корректность (40/40)                                           │
│     Все требования выполнены                                      │
│                                                                    │
│  ✅ Полнота (28/30)                                                │
│     Использованы все необходимые свойства                         │
│                                                                    │
│  ⚠️  Качество кода (20/30)                                         │
│     Можно улучшить читаемость и форматирование                    │
│     Рекомендация: добавьте комментарии к CSS                      │
│                                                                    │
│  💬 ФИДБЕК ОТ AI:                                                  │
│  "Хорошая работа! Box Model применен правильно. Карточка          │
│   выглядит аккуратно. Для улучшения: используйте box-sizing,     │
│   добавьте hover эффект для кнопки."                              │
│                                                                    │
│  +50 XP | Подэтап завершен ✓                                      │
│                                                                    │
│  [Попробовать еще раз]  [Посмотреть решение]  [Далее →]          │
└────────────────────────────────────────────────────────────────────┘
```

---

## 🗂️ ФАЙЛОВАЯ СТРУКТУРА (ДЕТАЛЬНАЯ)

```
study/
│
├── 📁 public/
│   └── index.html
│
├── 📁 src/
│   │
│   ├── 📁 components/
│   │   │
│   │   ├── 📁 Learning/ (НОВЫЕ)
│   │   │   ├── LearningView.jsx          ← Главный компонент обучения
│   │   │   │   └── Отображает: StageNavigator + StageContent
│   │   │   │
│   │   │   ├── StageNavigator.jsx        ← Навигатор по этапам
│   │   │   │   └── Показывает: список этапов, прогресс, блокировки
│   │   │   │
│   │   │   ├── StageContent.jsx          ← Контент этапа
│   │   │   │   └── Показывает: заголовок, прогресс, список подэтапов
│   │   │   │
│   │   │   ├── SubstageCard.jsx          ← Карточка подэтапа
│   │   │   │   └── Отображает: название, тип, статус, время
│   │   │   │
│   │   │   ├── MaterialViewer.jsx        ← Просмотр теории
│   │   │   │   └── Показывает: материал, примеры, key points
│   │   │   │
│   │   │   ├── PracticeZone.jsx          ← Зона практики
│   │   │   │   └── Включает: CodeEditor, задание, проверка
│   │   │   │
│   │   │   ├── PracticeResultCard.jsx    ← Результаты практики
│   │   │   │   └── Показывает: оценка, фидбек, детали
│   │   │   │
│   │   │   ├── ProgressBar.jsx           ← Прогресс-бар
│   │   │   │   └── Типы: общий, этап, подэтап
│   │   │   │
│   │   │   ├── LockOverlay.jsx           ← Блокировка
│   │   │   │   └── Показывает: причину, требование
│   │   │   │
│   │   │   └── CodeEditor.jsx            ← Редактор кода
│   │   │       └── Поддержка: HTML, CSS, JS
│   │   │
│   │   ├── 📁 Dashboard/ (ОБНОВЛЕНО)
│   │   │   ├── DashboardView.jsx
│   │   │   ├── LearningPathMap.jsx       ← НОВЫЙ: карта обучения
│   │   │   ├── ProgressOverview.jsx
│   │   │   └── QuickStats.jsx
│   │   │
│   │   ├── 📁 Chat/ (БЕЗ ИЗМЕНЕНИЙ)
│   │   ├── 📁 Header/ (БЕЗ ИЗМЕНЕНИЙ)
│   │   ├── 📁 History/ (БЕЗ ИЗМЕНЕНИЙ)
│   │   ├── 📁 Gamification/ (АДАПТАЦИЯ)
│   │   └── 📁 UI/ (БЕЗ ИЗМЕНЕНИЙ)
│   │
│   ├── 📁 contexts/
│   │   ├── LanguageContext.jsx
│   │   ├── GamificationContext.jsx
│   │   └── LearningProgressContext.jsx   ← НОВЫЙ: управление прогрессом
│   │
│   ├── 📁 data/
│   │   │
│   │   ├── 📁 v1/ (СТАРЫЕ ДАННЫЕ)
│   │   │   ├── courseData.js             ← Для референса и миграции
│   │   │   ├── achievements.js
│   │   │   └── practiceTasksData.js
│   │   │
│   │   └── 📁 v2/ (НОВАЯ СТРУКТУРА) ✨
│   │       │
│   │       ├── index.js                  ← Единая точка экспорта
│   │       │   export { LEARNING_STAGES, getStageById, ... }
│   │       │
│   │       ├── 📁 stages/
│   │       │   │
│   │       │   ├── stagesConfig.js       ← Конфигурация всех этапов
│   │       │   │   export const LEARNING_STAGES = [...]
│   │       │   │
│   │       │   ├── 📁 stage-html/
│   │       │   │   ├── index.js
│   │       │   │   │   └── Объединяет: metadata + substages
│   │       │   │   │
│   │       │   │   ├── metadata.js
│   │       │   │   │   └── Содержит: id, title, icon, color, ...
│   │       │   │   │
│   │       │   │   ├── substages.js
│   │       │   │   │   └── Массив всех подэтапов этапа
│   │       │   │   │
│   │       │   │   ├── 📁 materials/
│   │       │   │   │   ├── 01-basics.js
│   │       │   │   │   │   └── { topic, content, examples, keyPoints }
│   │       │   │   │   │
│   │       │   │   │   ├── 02-structure.js
│   │       │   │   │   ├── 03-text-elements.js
│   │       │   │   │   └── ...
│   │       │   │   │
│   │       │   │   └── 📁 practice/
│   │       │   │       ├── task-html-1.js
│   │       │   │       │   └── { title, scenario, starterCode, requirements, ... }
│   │       │   │       │
│   │       │   │       ├── task-html-2.js
│   │       │   │       └── ...
│   │       │   │
│   │       │   ├── 📁 stage-css/
│   │       │   │   └── (аналогичная структура)
│   │       │   │
│   │       │   ├── 📁 stage-javascript/
│   │       │   │   └── (аналогичная структура)
│   │       │   │
│   │       │   ├── 📁 stage-advanced/
│   │       │   │   └── (аналогичная структура)
│   │       │   │
│   │       │   └── 📁 stage-projects/
│   │       │       └── (аналогичная структура)
│   │       │
│   │       ├── 📁 achievements/
│   │       │   └── achievementsV2.js
│   │       │       └── Достижения привязанные к этапам
│   │       │
│   │       └── 📁 design/
│   │           ├── designTokens.js
│   │           │   └── Цвета, шрифты, отступы, тени
│   │           │
│   │           ├── stageDesigns.js
│   │           │   └── Дизайн для каждого этапа
│   │           │
│   │           └── 📁 components/
│   │               ├── CodePreview.js
│   │               ├── LiveDemo.js
│   │               └── VisualExample.js
│   │
│   ├── 📁 hooks/
│   │   ├── useChat.js
│   │   ├── useChatHistory.js
│   │   ├── useTheme.js
│   │   ├── useLearningProgress.js        ← НОВЫЙ: хук прогресса
│   │   └── useStageUnlock.js             ← НОВЫЙ: логика разблокировки
│   │
│   ├── 📁 services/
│   │   ├── aiService.js
│   │   ├── contextBuilder.js
│   │   ├── storageService.js
│   │   ├── progressService.js            ← ОБНОВЛЕНО: новая логика
│   │   ├── migrationService.js           ← НОВЫЙ: миграция V1→V2
│   │   └── practiceEvaluationService.js
│   │
│   ├── 📁 utils/
│   │   ├── themeUtils.js
│   │   └── progressCalculator.js         ← НОВЫЙ: расчет прогресса
│   │
│   ├── App.jsx
│   ├── App.css
│   ├── index.js
│   └── index.css
│
├── 📁 design/ (ДИЗАЙН-МАКЕТЫ)
│   ├── 📁 v1/
│   │   └── (старые дизайны)
│   │
│   └── 📁 v2/
│       ├── 📁 figma-exports/
│       │   └── (SVG, PNG из Figma)
│       │
│       ├── 📁 mockups/
│       │   ├── dashboard.png
│       │   ├── learning-path.png
│       │   ├── stage-view.png
│       │   └── practice-view.png
│       │
│       └── design-system.md
│
├── 📁 migrations/
│   ├── README.md
│   ├── migrate-v1-to-v2.js
│   └── data-mapping.json
│
├── package.json
├── tailwind.config.js
├── README.md
├── ARCHITECTURE_V2.md                    ← Архитектура
├── MIGRATION_GUIDE.md                    ← Гайд миграции
├── V2_QUICKSTART.md                      ← Быстрый старт
└── V2_VISUAL_STRUCTURE.md                ← Этот файл
```

---

## 🔄 ПОТОК ДАННЫХ

```
┌─────────────────────────────────────────────────────────────────┐
│                      ИСТОЧНИКИ ДАННЫХ                           │
└─────────────────────────────────────────────────────────────────┘
                                │
                    ┌───────────┴───────────┐
                    ▼                       ▼
        ┌────────────────────┐   ┌────────────────────┐
        │   LEARNING_STAGES  │   │   USER_PROGRESS    │
        │   (статические)    │   │   (динамические)   │
        │                    │   │                    │
        │ src/data/v2/       │   │ localStorage       │
        │ stages/            │   │ userProgress_v2    │
        └────────────────────┘   └────────────────────┘
                    │                       │
                    └───────────┬───────────┘
                                ▼
                 ┌────────────────────────────┐
                 │ LearningProgressContext    │
                 │                            │
                 │ - userProgress             │
                 │ - updateSubstageProgress() │
                 │ - completeSubstage()       │
                 │ - getStageProgress()       │
                 └────────────────────────────┘
                                │
                ┌───────────────┼───────────────┐
                ▼               ▼               ▼
        ┌──────────┐   ┌──────────────┐  ┌──────────────┐
        │Dashboard │   │LearningView  │  │PracticeZone  │
        │          │   │              │  │              │
        │показывает│   │показывает    │  │выполняет     │
        │общий     │   │детали этапа  │  │задания       │
        │прогресс  │   │              │  │              │
        └──────────┘   └──────────────┘  └──────────────┘
                                │
                    ┌───────────┴───────────┐
                    ▼                       ▼
        ┌────────────────────┐   ┌────────────────────┐
        │ progressService    │   │ storageService     │
        │                    │   │                    │
        │ - saveProgress()   │   │ - saveToLS()       │
        │ - calculateProgress│   │ - loadFromLS()     │
        │ - checkUnlock()    │   │                    │
        └────────────────────┘   └────────────────────┘
                                            │
                                            ▼
                                ┌────────────────────┐
                                │   localStorage     │
                                │                    │
                                │ userProgress_v2    │
                                └────────────────────┘
```

---

## 🎮 СОСТОЯНИЯ ПОДЭТАПОВ

```
┌────────────────────────────────────────────────────────────────┐
│                    ЖИЗНЕННЫЙ ЦИКЛ ПОДЭТАПА                     │
└────────────────────────────────────────────────────────────────┘

    [LOCKED] 🔒
        │
        │ (предыдущий подэтап завершен)
        ▼
    [IN_PROGRESS] ⏳
        │
        │ (тип: theory)
        ├──────────────────────┐
        │                      │
        ▼                      ▼
    [читает материал]    [пропускает]
        │                      │
        │ (нажимает            │
        │  "Прочитано")        │
        ▼                      │
    materialRead = true        │
        │                      │
        └──────────┬───────────┘
                   ▼
              [COMPLETED] ✅

        │ (тип: practice)
        ├──────────────────────┐
        │                      │
        ▼                      ▼
    [начинает задание]   [пропускает]
        │
        ▼
    [пишет код]
        │
        ▼
    [нажимает "Проверить"]
        │
        ▼
    [AI оценивает]
        │
    ┌───┴───┐
    ▼       ▼
[score < 70]  [score >= 70]
    │              │
    ▼              ▼
[попытка--]   practiceScore = score
    │              │
    ▼              ▼
attempts > 0?   [COMPLETED] ✅
    │ Да              │
    └─► [повторить]   │
    │ Нет             │
    ▼                 │
[failed]              │
practiceScore = score │
    │                 │
    └────────┬────────┘
             ▼
        [разблокировать
         следующий подэтап]
```

---

## 📦 СТРУКТУРА ОБЪЕКТОВ ДАННЫХ

### Material (Материал теории)

```javascript
{
  id: string,                    // Уникальный ID
  topic: string,                 // Название темы
  content: string,               // Краткое содержание (для preview)

  detailedContent: string,       // Полный материал (Markdown)

  examples: [                    // Примеры кода
    {
      title: string,
      code: string,
      explanation: string,
      language?: string          // html, css, js, jsx
    }
  ],

  keyPoints: string[],           // Ключевые моменты

  visualAssets?: string[],       // Пути к изображениям/диаграммам

  liveDemo?: {                   // Интерактивная демонстрация
    htmlCode: string,
    cssCode: string,
    jsCode?: string
  }
}
```

### PracticeTask (Практическое задание)

```javascript
{
  id: string,
  title: string,
  scenario: string,              // Описание сценария

  language: 'html' | 'css' | 'js' | 'jsx',
  difficulty: 'easy' | 'medium' | 'hard',

  starterCode: string,           // Начальный код

  requirements: string[],        // Требования к решению
  hints?: string[],              // Подсказки

  hiddenChecks: [                // Автоматические проверки
    {
      id: string,
      type: 'must_contain' | 'must_not_contain' | 'regex' | 'validation',
      rule: string,              // Правило проверки
      weight: number,            // Вес проверки (сумма 100)
      message: string            // Сообщение при провале
    }
  ],

  rubric: [                      // Критерии оценки для AI
    {
      id: string,
      maxScore: number,
      description: string
    }
  ],

  maxAttempts: number,           // Макс попыток
  passScore: number,             // Проходной балл

  solutionExample?: string       // Пример решения (скрыт от юзера)
}
```

### UserProgress (Прогресс пользователя)

```javascript
{
  userId: string,
  currentStage: string,          // ID текущего этапа

  stages: [
    {
      stageId: string,
      status: 'locked' | 'in_progress' | 'completed',
      completionPercentage: number,  // 0-100

      startedAt: timestamp | null,
      completedAt: timestamp | null,

      substages: [
        {
          substageId: string,
          status: 'locked' | 'in_progress' | 'completed',

          materialRead: boolean,
          practiceAttempts: number,
          practiceScore: number,     // 0-100
          quizScore: number | null,

          timeSpent: number,         // В минутах

          completedAt: timestamp | null
        }
      ],

      achievements: string[]     // IDs полученных достижений
    }
  ],

  stats: {
    totalTimeSpent: number,      // В минутах
    totalXP: number,
    level: number,
    streak: number,              // Дней подряд
    completedPractices: number
  }
}
```

---

## 🔐 ЛОГИКА БЛОКИРОВКИ

```
┌─────────────────────────────────────────────────────────────┐
│              УСЛОВИЯ РАЗБЛОКИРОВКИ ЭТАПОВ                   │
└─────────────────────────────────────────────────────────────┘

ЭТАП 1 (HTML):
  ✅ Разблокирован изначально

ЭТАП 2 (CSS):
  Условие: HTML завершен на 80%+
  ┌───────────────────────────────┐
  │ if (htmlStage.completion >= 80) {
  │   unlockStage('css');
  │ }
  └───────────────────────────────┘

ЭТАП 3 (JavaScript):
  Условие: CSS завершен на 80%+

ЭТАП 4 (Advanced):
  Условие: JavaScript завершен на 80%+

ЭТАП 5 (Projects):
  Условие: Advanced завершен на 100%

┌─────────────────────────────────────────────────────────────┐
│            УСЛОВИЯ РАЗБЛОКИРОВКИ ПОДЭТАПОВ                  │
└─────────────────────────────────────────────────────────────┘

ПОДЭТАП N:
  Условие: Подэтап N-1 завершен

  if (type === 'theory') {
    завершен = materialRead === true
  }

  if (type === 'practice') {
    завершен = practiceScore >= task.passScore
  }

  if (type === 'quiz') {
    завершен = quizScore >= minQuizScore
  }
```

---

## 🎨 ДИЗАЙН ТОКЕНЫ

```javascript
// src/data/v2/design/designTokens.js

export const DESIGN_TOKENS = {
  colors: {
    // Этапы
    html: {
      primary: '#FF6B35',
      secondary: '#FFB84D',
      light: '#FFE5D9',
      dark: '#C74F28'
    },
    css: {
      primary: '#A855F7',
      secondary: '#EC4899',
      light: '#F3E8FF',
      dark: '#7C3AED'
    },
    javascript: {
      primary: '#F59E0B',
      secondary: '#FCD34D',
      light: '#FEF3C7',
      dark: '#D97706'
    },
    advanced: {
      primary: '#3B82F6',
      secondary: '#60A5FA',
      light: '#DBEAFE',
      dark: '#2563EB'
    },
    projects: {
      primary: '#F59E0B',
      secondary: '#FBBF24',
      light: '#FEF3C7',
      dark: '#D97706'
    },

    // Общие
    success: '#10B981',
    warning: '#F59E0B',
    error: '#EF4444',
    info: '#3B82F6'
  },

  spacing: {
    xs: '4px',
    sm: '8px',
    md: '16px',
    lg: '24px',
    xl: '32px',
    xxl: '48px'
  },

  typography: {
    fonts: {
      display: 'Space Grotesk, sans-serif',
      body: 'Plus Jakarta Sans, sans-serif',
      code: 'JetBrains Mono, monospace'
    },
    sizes: {
      xs: '12px',
      sm: '14px',
      base: '16px',
      lg: '18px',
      xl: '24px',
      '2xl': '32px',
      '3xl': '48px'
    }
  },

  borderRadius: {
    sm: '4px',
    md: '8px',
    lg: '12px',
    xl: '16px',
    full: '9999px'
  },

  shadows: {
    sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
    md: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',
    lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',
    xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'
  }
};
```

---

## 📊 МЕТРИКИ И KPI

```
┌─────────────────────────────────────────────────────────────┐
│                    ОТСЛЕЖИВАЕМЫЕ МЕТРИКИ                    │
└─────────────────────────────────────────────────────────────┘

НА УРОВНЕ ПОЛЬЗОВАТЕЛЯ:
  - currentStage: 'css'
  - completionPercentage: 35%
  - totalXP: 1250
  - level: 3
  - streak: 7 дней
  - totalTimeSpent: 160 минут

НА УРОВНЕ ЭТАПА:
  - status: 'in_progress'
  - completionPercentage: 35%
  - completedSubstages: 6
  - totalSubstages: 18
  - averageScore: 88
  - timeSpent: 120 минут

НА УРОВНЕ ПОДЭТАПА:
  - status: 'completed'
  - practiceScore: 92
  - practiceAttempts: 2
  - timeSpent: 40 минут
  - completedAt: '2026-02-16T15:30:00Z'

ГЛОБАЛЬНЫЕ (для аналитики):
  - totalUsers
  - averageCompletionRate
  - mostDifficultTasks
  - averageTimePerStage
  - dropoffPoints
```

---

## 🚀 ПЛАН ЗАПУСКА

```
┌─────────────────────────────────────────────────────────────┐
│                    ЭТАПЫ РАЗРАБОТКИ                         │
└─────────────────────────────────────────────────────────────┘

WEEK 1: Инфраструктура ✨
  ├─ День 1-2: Создать структуру v2, stagesConfig
  ├─ День 3-4: LearningProgressContext, компоненты
  ├─ День 5-6: Материалы HTML (5 подэтапов)
  └─ День 7: Тестирование, фикс багов

WEEK 2: Практика ✏️
  ├─ День 1-2: PracticeZone, CodeEditor
  ├─ День 3-4: AI проверка, оценка
  ├─ День 5-6: Практические задания HTML
  └─ День 7: Тестирование практики

WEEK 3: CSS + Миграция 🎨
  ├─ День 1-3: Материалы CSS
  ├─ День 4-5: migrationService
  ├─ День 6: Тестирование миграции
  └─ День 7: Дизайн, UI полировка

WEEK 4: Финализация 🏁
  ├─ День 1-2: Геймификация
  ├─ День 3-4: Тестирование на устройствах
  ├─ День 5: Performance оптимизация
  ├─ День 6: Документация
  └─ День 7: ЗАПУСК! 🎉
```

---

**Версия**: 1.0
**Дата**: 2026-02-16
**Готовность**: 100%

{"version":3,"file":"static/js/386.5acbc350.chunk.js","mappings":"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","sources":["components/Chat/CodeBlock.jsx","components/Chat/MessageRating.jsx","components/Chat/Message.jsx","utils/formatters.js","components/Chat/ChatInput.jsx","components/Chat/LoadingIndicator.jsx","components/Chat/ChatView.jsx"],"sourcesContent":["// src/components/Chat/CodeBlock.jsx\r\n\r\nimport { useState } from 'react';\r\nimport { Copy, Check } from 'lucide-react';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { vscDarkPlus, vs } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\nimport { useTheme } from '../../hooks/useTheme';\r\n\r\nexport const CodeBlock = ({ language, value }) => {\r\n  const { theme } = useTheme();\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const handleCopy = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(value);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative group my-4\">\r\n      <button\r\n        onClick={handleCopy}\r\n        className=\"absolute right-2 top-2 p-2 rounded bg-gray-700 hover:bg-gray-600 text-white opacity-0 group-hover:opacity-100 transition-opacity z-10\"\r\n        title=\"Копировать код\"\r\n        aria-label={copied ? 'Код скопирован' : 'Копировать код'}\r\n      >\r\n        {copied ? (\r\n          <Check className=\"w-4 h-4 text-green-400\" aria-hidden=\"true\" />\r\n        ) : (\r\n          <Copy className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n        )}\r\n      </button>\r\n      <SyntaxHighlighter\r\n        language={language}\r\n        style={theme === 'dark' ? vscDarkPlus : vs}\r\n        customStyle={{\r\n          borderRadius: '0.5rem',\r\n          padding: '1rem',\r\n          fontSize: '0.875rem',\r\n          margin: 0\r\n        }}\r\n      >\r\n        {value}\r\n      </SyntaxHighlighter>\r\n    </div>\r\n  );\r\n};\r\n","// src/components/Chat/MessageRating.jsx\r\n\r\nimport { ThumbsUp, ThumbsDown } from 'lucide-react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\n\r\nexport const MessageRating = ({ rating, onRate }) => {\r\n  const { theme } = useTheme();\r\n\r\n  const getButtonClass = (type) => {\r\n    const isActive = rating === type;\r\n    const activeColor = type === 'up' ? 'text-green-500' : 'text-red-500';\r\n    const inactiveColor = theme === 'dark' ? 'text-gray-400' : 'text-gray-500';\r\n    return `p-1 rounded hover:bg-opacity-20 hover:bg-white transition ${isActive ? activeColor : inactiveColor}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-2\" role=\"group\" aria-label=\"Оценка ответа\">\r\n      <button\r\n        onClick={() => onRate('up')}\r\n        className={getButtonClass('up')}\r\n        title=\"Полезный ответ\"\r\n        aria-label=\"Отметить как полезный\"\r\n        aria-pressed={rating === 'up'}\r\n      >\r\n        <ThumbsUp className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n      </button>\r\n      <button\r\n        onClick={() => onRate('down')}\r\n        className={getButtonClass('down')}\r\n        title=\"Не помог\"\r\n        aria-label=\"Отметить как неполезный\"\r\n        aria-pressed={rating === 'down'}\r\n      >\r\n        <ThumbsDown className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","// src/components/Chat/Message.jsx\r\n\r\nimport { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { formatTime } from '../../utils/formatters';\r\nimport { CodeBlock } from './CodeBlock';\r\nimport { MessageRating } from './MessageRating';\r\n\r\nexport const Message = memo(({ message, onRate }) => {\r\n  const { theme } = useTheme();\r\n  const { t } = useLanguage();\r\n  const isUser = message.role === 'user';\r\n\r\n  const handleRate = (value) => {\r\n    onRate(message.id, value);\r\n  };\r\n\r\n  const messageClasses = isUser\r\n    ? 'bg-indigo-600 text-white'\r\n    : theme === 'dark'\r\n    ? 'bg-gray-800 text-gray-100 border border-gray-700'\r\n    : 'bg-gray-100 text-gray-800';\r\n\r\n  return (\r\n    <article\r\n      className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-4 animate-slideIn`}\r\n      aria-label={isUser ? t('chat.userMessage') : t('chat.assistantMessage')}\r\n    >\r\n      <div className={`max-w-[85%] rounded-lg p-4 shadow-sm ${messageClasses}`}>\r\n        <div className=\"prose prose-sm max-w-none\">\r\n          {isUser ? (\r\n            <p className=\"whitespace-pre-wrap m-0\">{message.content}</p>\r\n          ) : (\r\n            <ReactMarkdown\r\n              components={{\r\n                code({ node, inline, className, children, ...props }) {\r\n                  const match = /language-(\\w+)/.exec(className || '');\r\n                  return !inline && match ? (\r\n                    <CodeBlock\r\n                      language={match[1]}\r\n                      value={String(children).replace(/\\n$/, '')}\r\n                      {...props}\r\n                    />\r\n                  ) : (\r\n                    <code\r\n                      className={`${\r\n                        theme === 'dark' ? 'bg-gray-700' : 'bg-gray-200'\r\n                      } px-1 py-0.5 rounded text-sm`}\r\n                      {...props}\r\n                    >\r\n                      {children}\r\n                    </code>\r\n                  );\r\n                },\r\n                p({ children }) {\r\n                  return <p className=\"my-2\">{children}</p>;\r\n                },\r\n                ul({ children }) {\r\n                  return <ul className=\"my-2 ml-4\">{children}</ul>;\r\n                },\r\n                ol({ children }) {\r\n                  return <ol className=\"my-2 ml-4\">{children}</ol>;\r\n                }\r\n              }}\r\n            >\r\n              {message.content}\r\n            </ReactMarkdown>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between mt-2 text-xs opacity-70\">\r\n          <span>{formatTime(message.timestamp)}</span>\r\n          {!isUser && <MessageRating rating={message.rating} onRate={handleRate} />}\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n});\r\n\r\nMessage.propTypes = {\r\n  message: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    role: PropTypes.oneOf(['user', 'assistant']).isRequired,\r\n    content: PropTypes.string.isRequired,\r\n    timestamp: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n    rating: PropTypes.oneOf(['up', 'down', null]),\r\n    error: PropTypes.bool\r\n  }).isRequired,\r\n  onRate: PropTypes.func.isRequired\r\n};\r\n","// src/utils/formatters.js\r\n\r\nexport const formatTime = (date) => {\r\n  return new Date(date).toLocaleTimeString('ru-RU', { \r\n    hour: '2-digit', \r\n    minute: '2-digit' \r\n  });\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString('ru-RU', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric'\r\n  });\r\n};\r\n\r\nexport const formatDateTime = (date) => {\r\n  return new Date(date).toLocaleString('ru-RU', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n};","// src/components/Chat/ChatInput.jsx\r\n\r\nimport { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Send, Trash2 } from 'lucide-react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { themeClasses } from '../../utils/themeUtils';\r\nimport { LIMITS } from '../../constants';\r\n\r\nexport const ChatInput = ({ onSend, onClear, loading }) => {\r\n  const { theme } = useTheme();\r\n  const { t } = useLanguage();\r\n  const [input, setInput] = useState('');\r\n\r\n  const handleSend = () => {\r\n    const trimmedInput = input.trim();\r\n    if (trimmedInput && !loading && trimmedInput.length <= LIMITS.MAX_MESSAGE_LENGTH) {\r\n      onSend(trimmedInput);\r\n      setInput('');\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${themeClasses.card(theme)} border rounded-lg shadow-md p-4`}>\r\n      <div className=\"flex gap-2 mb-2\">\r\n        <label htmlFor=\"chat-input\" className=\"sr-only\">\r\n          {t('chat.inputLabel')}\r\n        </label>\r\n        <input\r\n          id=\"chat-input\"\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={handleKeyDown}\r\n          placeholder={t('chat.placeholder')}\r\n          maxLength={LIMITS.MAX_MESSAGE_LENGTH}\r\n          className={`flex-1 px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition ${themeClasses.input(theme)}`}\r\n          disabled={loading}\r\n        />\r\n        <button\r\n          onClick={handleSend}\r\n          disabled={loading || !input.trim()}\r\n          className=\"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition flex items-center gap-2 shadow-sm\"\r\n          aria-label={t('chat.sendLabel')}\r\n        >\r\n          <Send className=\"w-4 h-4\" />\r\n          <span className=\"hidden sm:inline\">{t('chat.send')}</span>\r\n        </button>\r\n        <button\r\n          onClick={onClear}\r\n          className={`px-4 py-3 rounded-lg transition ${\r\n            theme === 'dark'\r\n              ? 'bg-gray-700 hover:bg-gray-600 text-gray-300'\r\n              : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\r\n          }`}\r\n          title={t('chat.newChat')}\r\n          aria-label={t('chat.newChatLabel')}\r\n        >\r\n          <Trash2 className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n      <div className={`text-xs ${themeClasses.textMuted(theme)}`}>\r\n        {t('chat.examples')}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nChatInput.propTypes = {\r\n  onSend: PropTypes.func.isRequired,\r\n  onClear: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired\r\n};\r\n","// src/components/Chat/LoadingIndicator.jsx\r\n\r\nimport { Loader2 } from 'lucide-react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { themeClasses } from '../../utils/themeUtils';\r\n\r\nexport const LoadingIndicator = () => {\r\n  const { theme } = useTheme();\r\n  const { t } = useLanguage();\r\n\r\n  return (\r\n    <div className=\"flex justify-start mb-4 animate-fadeIn\" role=\"status\" aria-live=\"polite\">\r\n      <div\r\n        className={`${themeClasses.card(theme)} border rounded-lg p-4 flex items-center gap-2 shadow-sm`}\r\n      >\r\n        <Loader2 className=\"w-4 h-4 animate-spin text-indigo-600\" aria-hidden=\"true\" />\r\n        <span className={`${themeClasses.textSecondary(theme)} text-sm`}>\r\n          {t('chat.thinking')}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// src/components/Chat/ChatView.jsx\r\n\r\nimport { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { themeClasses } from '../../utils/themeUtils';\r\nimport { Message } from './Message';\r\nimport { ChatInput } from './ChatInput';\r\nimport { LoadingIndicator } from './LoadingIndicator';\r\n\r\nexport const ChatView = ({ messages, loading, onSend, onClear, onRate }) => {\r\n  const { theme } = useTheme();\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto h-full flex flex-col p-4\">\r\n      {/* Messages Area */}\r\n      <div\r\n        className={`flex-1 overflow-y-auto mb-4 p-4 ${themeClasses.bg(theme)} rounded-lg shadow-sm`}\r\n      >\r\n        {messages.map((msg) => (\r\n          <Message key={msg.id} message={msg} onRate={onRate} />\r\n        ))}\r\n        {loading && <LoadingIndicator />}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <ChatInput onSend={onSend} onClear={onClear} loading={loading} />\r\n    </div>\r\n  );\r\n};\r\n\r\nChatView.propTypes = {\r\n  messages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      role: PropTypes.string.isRequired,\r\n      content: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  onSend: PropTypes.func.isRequired,\r\n  onClear: PropTypes.func.isRequired,\r\n  onRate: PropTypes.func.isRequired\r\n};\r\n"],"names":["CodeBlock","_ref","language","value","theme","useTheme","copied","setCopied","useState","_jsxs","className","children","_jsx","onClick","async","navigator","clipboard","writeText","setTimeout","error","console","title","Check","Copy","SyntaxHighlighter","style","vscDarkPlus","vs","customStyle","borderRadius","padding","fontSize","margin","MessageRating","rating","onRate","getButtonClass","type","concat","role","ThumbsUp","ThumbsDown","Message","memo","message","t","useLanguage","isUser","messageClasses","content","ReactMarkdown","components","code","_ref2","node","inline","props","_objectWithoutProperties","_excluded","match","exec","_objectSpread","String","replace","p","_ref3","ul","_ref4","ol","_ref5","date","timestamp","Date","toLocaleTimeString","hour","minute","id","ChatInput","onSend","onClear","loading","input","setInput","handleSend","trimmedInput","trim","length","LIMITS","MAX_MESSAGE_LENGTH","themeClasses","card","htmlFor","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","placeholder","maxLength","disabled","Send","Trash2","textMuted","LoadingIndicator","Loader2","textSecondary","ChatView","messages","messagesEndRef","useRef","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","bg","map","msg","ref"],"ignoreList":[],"sourceRoot":""}
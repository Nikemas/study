"use strict";(self.webpackChunkeducational_ai_platform=self.webpackChunkeducational_ai_platform||[]).push([[405],{3246(e,t,a){a.d(t,{V:()=>d});var r=a(5043),s=a(2380),l=a(430),o=a(2771),i=a(9402),n=a(8250),c=a(579);const d=e=>{let{onSend:t,loading:a}=e;const{theme:d}=(0,o.D)(),{t:x}=(0,i.o)(),[g,h]=(0,r.useState)(""),m="dark"===d,b=()=>{const e=g.trim();e&&!a&&e.length<=n.b1.MAX_MESSAGE_LENGTH&&(t(e),h(""))};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl ".concat(m?"opacity-20 group-hover:opacity-40":"opacity-10 group-hover:opacity-20"," blur transition duration-500")}),(0,c.jsxs)("div",{className:"relative flex items-center ".concat(m?"glass-input":"bg-white border border-gray-300"," rounded-2xl p-2 transition-all duration-300"),children:[(0,c.jsx)("button",{type:"button",className:"p-2 ".concat(m?"text-gray-400 hover:text-white hover:bg-white/5":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"," transition-colors rounded-xl"),"aria-label":"Add attachment",children:(0,c.jsx)(s.A,{className:"w-5 h-5"})}),(0,c.jsx)("label",{htmlFor:"chat-input",className:"sr-only",children:x("chat.inputLabel")}),(0,c.jsx)("input",{id:"chat-input",type:"text",value:g,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:x("chat.placeholder"),maxLength:n.b1.MAX_MESSAGE_LENGTH,className:"w-full bg-transparent border-none ".concat(m?"text-white placeholder-gray-500":"text-gray-900 placeholder-gray-400"," focus:ring-0 text-sm py-3 px-2 font-light focus:outline-none"),disabled:a}),(0,c.jsx)("button",{onClick:b,disabled:a||!g.trim(),className:"p-2 ".concat(m?"bg-white text-black hover:bg-gray-200 shadow-lg shadow-white/10":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/20"," rounded-xl transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"),"aria-label":x("chat.sendLabel"),children:(0,c.jsx)(l.A,{className:"w-5 h-5"})})]})]}),(0,c.jsx)("p",{className:"text-center text-[10px] ".concat(m?"text-gray-600":"text-gray-500"," mt-3 font-medium tracking-wide"),children:x("chat.disclaimer")||"AI can make mistakes. Consider checking important information."})]})}},6609(e,t,a){a.d(t,{Q:()=>N});var r=a(9379),s=a(3986),l=a(5043),o=a(5012),i=a(2817),n=a(95),c=a(2771),d=a(9402);const x=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});var g=a(1024),h=a(5979),m=a(6180),b=a(4187),u=a(5794),p=a(579);const y=e=>{let{language:t,value:a}=e;const{theme:r}=(0,c.D)(),{t:s}=(0,d.o)(),[o,i]=(0,l.useState)(!1);return(0,p.jsxs)("div",{className:"relative group my-4",children:[(0,p.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},className:"absolute right-2 top-2 p-2 rounded bg-gray-700 hover:bg-gray-600 text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",title:s(o?"common.copied":"common.copy"),"aria-label":s(o?"common.copied":"common.copy"),children:o?(0,p.jsx)(g.A,{className:"w-4 h-4 text-green-400","aria-hidden":"true"}):(0,p.jsx)(h.A,{className:"w-4 h-4","aria-hidden":"true"})}),(0,p.jsx)(m.A,{language:t,style:"dark"===r?b.A:u.A,customStyle:{borderRadius:"0.5rem",padding:"1rem",fontSize:"0.875rem",margin:0},children:a})]})};var w=a(7651),j=a(5648);const f=e=>{let{rating:t,onRate:a}=e;const{theme:r}=(0,c.D)(),s=e=>"p-1 rounded hover:bg-opacity-20 hover:bg-white transition ".concat(t===e?"up"===e?"text-green-500":"text-red-500":"dark"===r?"text-gray-400":"text-gray-500");return(0,p.jsxs)("div",{className:"flex gap-2",role:"group","aria-label":"\u041e\u0446\u0435\u043d\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430",children:[(0,p.jsx)("button",{onClick:()=>a("up"),className:s("up"),title:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442","aria-label":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439","aria-pressed":"up"===t,children:(0,p.jsx)(w.A,{className:"w-4 h-4","aria-hidden":"true"})}),(0,p.jsx)("button",{onClick:()=>a("down"),className:s("down"),title:"\u041d\u0435 \u043f\u043e\u043c\u043e\u0433","aria-label":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439","aria-pressed":"down"===t,children:(0,p.jsx)(j.A,{className:"w-4 h-4","aria-hidden":"true"})})]})},v=["node","inline","className","children"],N=(0,l.memo)(e=>{let{message:t,onRate:a}=e;const{theme:l}=(0,c.D)(),{t:g}=(0,d.o)(),h="user"===t.role,m="dark"===l;return h?(0,p.jsxs)("article",{className:"flex flex-row-reverse gap-4 group animate-slideUp",children:[(0,p.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,p.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(m?"bg-white/10 border border-white/5":"bg-gray-200 border border-gray-300"," flex items-center justify-center"),children:(0,p.jsx)(i.A,{className:"w-4 h-4 ".concat(m?"text-white":"text-gray-700")})})}),(0,p.jsxs)("div",{className:"flex flex-col items-end gap-2 max-w-2xl",children:[(0,p.jsx)("div",{className:"".concat(m?"glass border-primary/20 bg-primary/10":"bg-indigo-100 border border-indigo-200"," rounded-2xl rounded-tr-sm px-5 py-3 ").concat(m?"shadow-glow-sm":"shadow-sm"),children:(0,p.jsx)("p",{className:"text-sm ".concat(m?"text-white":"text-gray-900"," font-medium whitespace-pre-wrap"),children:t.content})}),(0,p.jsx)("span",{className:"text-[10px] ".concat(m?"text-gray-600":"text-gray-500"," mr-1"),children:x(t.timestamp)})]})]}):(0,p.jsxs)("article",{className:"flex gap-4 group animate-slideUp",children:[(0,p.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,p.jsx)("div",{className:"w-8 h-8 rounded-xl ".concat(m?"bg-surface border border-white/10":"bg-indigo-100 border border-indigo-200"," flex items-center justify-center text-primary ").concat(m?"shadow-glow-sm":""),children:(0,p.jsx)(n.A,{className:"w-4 h-4"})})}),(0,p.jsxs)("div",{className:"flex flex-col gap-2 max-w-3xl w-full",children:[(0,p.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,p.jsx)("span",{className:"text-sm font-semibold ".concat(m?"text-white":"text-gray-900"),children:g("chat.assistant")}),(0,p.jsx)("span",{className:"text-[10px] ".concat(m?"text-gray-500":"text-gray-400"),children:x(t.timestamp)})]}),(0,p.jsx)("div",{className:"prose ".concat(m?"prose-invert":""," max-w-none text-sm"),children:(0,p.jsx)(o.$,{components:{code(e){let{node:t,inline:a,className:l,children:o}=e,i=(0,s.A)(e,v);const n=/language-(\w+)/.exec(l||"");return!a&&n?(0,p.jsx)(y,(0,r.A)({language:n[1],value:String(o).replace(/\n$/,"")},i)):(0,p.jsx)("code",(0,r.A)((0,r.A)({className:"".concat(m?"text-indigo-300 bg-indigo-500/10":"text-indigo-700 bg-indigo-100"," px-1.5 py-0.5 rounded text-xs font-mono")},i),{},{children:o}))},p(e){let{children:t}=e;return(0,p.jsx)("p",{className:"leading-7 ".concat(m?"text-gray-300":"text-gray-700"),children:t})},strong(e){let{children:t}=e;return(0,p.jsx)("strong",{className:"font-semibold ".concat(m?"text-white":"text-gray-900"),children:t})},ul(e){let{children:t}=e;return(0,p.jsx)("ul",{className:"list-disc pl-4 space-y-1 mt-2 mb-4 ".concat(m?"text-gray-400 marker:text-indigo-500":"text-gray-600 marker:text-indigo-600"),children:t})},ol(e){let{children:t}=e;return(0,p.jsx)("ol",{className:"list-decimal pl-4 space-y-1 mt-2 mb-4 ".concat(m?"text-gray-400":"text-gray-600"),children:t})}},children:t.content})}),(0,p.jsx)("div",{className:"flex gap-3 mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,p.jsx)(f,{rating:t.rating,onRate:e=>{a(t.id,e)}})})]})]})})},7373(e,t,a){a.d(t,{I:()=>c});var r=a(7772),s=a(2771),l=a(9402);const o=e=>"dark"===e?"text-gray-300":"text-gray-600",i=e=>"dark"===e?"bg-gray-800 border-gray-700":"bg-white border-gray-200";var n=a(579);const c=()=>{const{theme:e}=(0,s.D)(),{t:t}=(0,l.o)();return(0,n.jsx)("div",{className:"flex justify-start mb-4 animate-fadeIn",role:"status","aria-live":"polite",children:(0,n.jsxs)("div",{className:"".concat(i(e)," border rounded-lg p-4 flex items-center gap-2 shadow-sm"),children:[(0,n.jsx)(r.A,{className:"w-4 h-4 animate-spin text-indigo-600","aria-hidden":"true"}),(0,n.jsx)("span",{className:"".concat(o(e)," text-sm"),children:t("chat.thinking")})]})})}},9405(e,t,a){a.d(t,{KnowledgeView:()=>I});var r=a(5043),s=a(4082),l=a(3797);const o=(0,l.A)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var i=a(5827),n=a(2771),c=a(9402);const d=(0,l.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var x=a(579);const g=e=>{let{selectedCategory:t,onSelectCategory:a,courses:r}=e;const{theme:s}=(0,n.D)(),{t:l}=(0,c.o)(),o="dark"===s,i=e=>e?o?"bg-white/10 text-white border border-white/5 shadow-sm":"bg-indigo-100 text-indigo-700 border border-indigo-200 shadow-sm":o?"text-gray-400 hover:text-white hover:bg-white/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-100";return(0,x.jsxs)("nav",{className:"flex flex-col gap-1",role:"tablist","aria-label":l("knowledge.filterLabel"),children:[(0,x.jsxs)("button",{onClick:()=>a("all"),className:"flex items-center gap-3 px-3 py-2.5 rounded-xl transition-colors ".concat(i("all"===t)),role:"tab","aria-selected":"all"===t,"aria-controls":"materials-list",children:[(0,x.jsx)(d,{className:"w-5 h-5 text-indigo-400"}),(0,x.jsx)("span",{className:"text-sm font-medium",children:l("knowledge.allCourses")})]}),r.map(e=>(0,x.jsxs)("button",{onClick:()=>a(e.id),className:"flex items-center gap-3 px-3 py-2.5 rounded-xl transition-colors ".concat(i(t===e.id)),role:"tab","aria-selected":t===e.id,"aria-controls":"materials-list",children:[(0,x.jsx)("span",{className:"text-xl",role:"img","aria-label":e.name,children:e.icon}),(0,x.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))]})},h=(0,l.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),m=(0,l.A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var b=a(2251);const u={python:{color:"blue",emoji:"\ud83d\udc0d",colorClass:"text-blue-400",bgClass:"from-blue-600/20 to-yellow-500/20",borderClass:"border-blue-500/20",shadowClass:"shadow-[0_0_15px_rgba(59,130,246,0.15)]",hoverClass:"from-blue-500/5"},javascript:{color:"yellow",emoji:"\u26a1",colorClass:"text-yellow-400",bgClass:"from-yellow-400/20 to-orange-500/20",borderClass:"border-yellow-500/20",shadowClass:"shadow-[0_0_15px_rgba(234,179,8,0.15)]",hoverClass:"from-yellow-500/5"},html:{color:"orange",emoji:"\ud83d\udcc4",colorClass:"text-orange-400",bgClass:"from-orange-500/20 to-red-500/20",borderClass:"border-orange-500/20",shadowClass:"shadow-[0_0_15px_rgba(249,115,22,0.15)]",hoverClass:"from-orange-500/5"},css:{color:"indigo",emoji:"\ud83c\udfa8",colorClass:"text-indigo-400",bgClass:"from-indigo-500/20 to-blue-500/20",borderClass:"border-indigo-500/20",shadowClass:"shadow-[0_0_15px_rgba(99,102,241,0.15)]",hoverClass:"from-indigo-500/5"},react:{color:"cyan",emoji:"\u269b\ufe0f",colorClass:"text-cyan-400",bgClass:"from-cyan-500/20 to-blue-500/20",borderClass:"border-cyan-500/20",shadowClass:"shadow-[0_0_15px_rgba(6,182,212,0.15)]",hoverClass:"from-cyan-500/5"}},p=(0,r.memo)(e=>{let{material:t,onOpen:a}=e;const{theme:r}=(0,n.D)(),{t:s}=(0,c.o)(),l="dark"===r,o=(0,b.p5)(t.id),i=u[t.category]||u.python,d=2*Math.PI*18,g=o?0:d;return(0,x.jsxs)("article",{className:"group relative ".concat(l?"glass-card":"light-glass-card"," rounded-3xl p-6 hover-lift hover:shadow-glow transition-all duration-300 cursor-pointer overflow-hidden"),onClick:a,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b ".concat(i.hoverClass," to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500")}),(0,x.jsxs)("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[(0,x.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(i.bgClass," border ").concat(i.borderClass," flex items-center justify-center ").concat(i.shadowClass),children:(0,x.jsx)("span",{className:"text-2xl",role:"img","aria-label":t.category,children:i.emoji})}),o?(0,x.jsxs)("div",{className:"relative w-10 h-10 flex items-center justify-center",children:[(0,x.jsxs)("svg",{className:"w-10 h-10 rotate-[-90deg]",children:[(0,x.jsx)("circle",{className:"text-white/5 stroke-current",cx:"20",cy:"20",fill:"none",r:18,strokeWidth:"2"}),(0,x.jsx)("circle",{className:"".concat(i.colorClass," stroke-current progress-ring__circle"),cx:"20",cy:"20",fill:"none",r:18,strokeDasharray:d,strokeDashoffset:g,strokeLinecap:"round",strokeWidth:"2"})]}),(0,x.jsx)("span",{className:"absolute text-[9px] font-bold text-white",children:"100%"})]}):(0,x.jsx)("div",{className:"px-2 py-1 rounded ".concat(l?"bg-white/5 border border-white/5":"bg-gray-100 border border-gray-200"," text-[10px] ").concat(l?"text-gray-400":"text-gray-600"," font-medium"),children:s("material.notStarted")})]}),(0,x.jsxs)("div",{className:"relative z-10",children:[(0,x.jsx)("h4",{className:"text-lg font-bold font-display mb-1 ".concat(l?"text-white":"text-gray-900"),children:t.topic}),(0,x.jsx)("p",{className:"text-xs mb-6 leading-relaxed line-clamp-2 ".concat(l?"text-gray-400":"text-gray-600"),children:t.content}),(0,x.jsxs)("div",{className:"w-full py-2.5 rounded-xl ".concat(l?"bg-white/5 group-hover:bg-white/10 border border-white/5":"bg-gray-100 group-hover:bg-gray-200 border border-gray-200"," text-sm font-medium ").concat(l?"text-gray-300":"text-gray-700"," transition-all flex items-center justify-center gap-2"),children:[(0,x.jsx)("span",{children:s(o?"material.repeat":"material.startModule")}),o?(0,x.jsx)(h,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"}):(0,x.jsx)(m,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})]})]})});var y=a(9379),w=a(1172);const j=(0,l.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),f=(0,l.A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),v=(0,l.A)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var N=a(7446),k=a(1702),C=a(3246),A=a(6609),z=a(7373);const q={python:{emoji:"\ud83d\udc0d",colorClass:"text-blue-400",bgClass:"from-blue-600/20 to-yellow-500/20",borderClass:"border-blue-500/20"},javascript:{emoji:"\u26a1",colorClass:"text-yellow-400",bgClass:"from-yellow-400/20 to-orange-500/20",borderClass:"border-yellow-500/20"},html:{emoji:"\ud83d\udcc4",colorClass:"text-orange-400",bgClass:"from-orange-500/20 to-red-500/20",borderClass:"border-orange-500/20"},css:{emoji:"\ud83c\udfa8",colorClass:"text-indigo-400",bgClass:"from-indigo-500/20 to-blue-500/20",borderClass:"border-indigo-500/20"},react:{emoji:"\u269b\ufe0f",colorClass:"text-cyan-400",bgClass:"from-cyan-500/20 to-blue-500/20",borderClass:"border-cyan-500/20"}},S=e=>{var t,a;let{material:s,onClose:l,onProgressChange:o}=e;const{theme:i}=(0,n.D)(),{language:d,t:g}=(0,c.o)(),[h,m]=(0,r.useState)(()=>(0,b.p5)(s.id)),[u,p]=(0,r.useState)([]),[S,_]=(0,r.useState)(!1),[M,D]=(0,r.useState)(!1),L=(0,r.useRef)(null),E="dark"===i,I=q[s.category]||q.python;(0,r.useEffect)(()=>{var e;null===(e=L.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[u]),(0,r.useEffect)(()=>{M&&0===u.length&&p([{id:"welcome-msg",role:"assistant",content:"en"===d?"Hi! I'll help you study the topic **\"".concat(s.topic,"\"**. Ask any questions about this topic \u2014 I'll explain in detail!"):"ky"===d?'\u0421\u0430lam\u0430\u0442! \u0421\u0435\u043d **"'.concat(s.topic,'"** \u0442\u0435\u043c\u0430\u0441\u044b\u043d \u04af\u0439\u0440\u04e9\u043d\u04af\u04af\u0433\u04e9 \u0436\u0430\u0440\u0434\u0430\u043c\u0447\u044b \u0431\u043e\u043b\u0430\u043c. \u0411\u0443\u043b \u0442\u0435\u043c\u0430 \u0431\u043e\u044e\u043d\u0447\u0430 \u043a\u0435\u0437 \u043a\u0435\u043b\u0433\u0435\u043d \u0441\u0443\u0440\u043e\u043e \u0431\u0435\u0440 \u2014 \u0442\u04af\u0448\u04af\u043d\u0434\u04af\u0440\u04af\u043f \u0431\u0435\u0440\u0435\u043c!'):'\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u043f\u043e\u043c\u043e\u0433\u0443 \u0442\u0435\u0431\u0435 \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u0442\u0435\u043c\u0443 **"'.concat(s.topic,'"**. \u0417\u0430\u0434\u0430\u0432\u0430\u0439 \u043b\u044e\u0431\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043f\u043e \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u0435 \u2014 \u043e\u0431\u044a\u044f\u0441\u043d\u044e \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e!')}])},[M,s.topic,u.length]);const P=(0,r.useCallback)(()=>{h?((0,b.vD)(s.id),m(!1)):((0,b.cG)(s.id),m(!0)),o&&o()},[h,s.id,o]),R=(0,r.useCallback)(async e=>{if(!e.trim()||S)return;const t={id:(0,k.$)(),role:"user",content:e,timestamp:new Date};p(e=>[...e,t]),_(!0);try{const t=u.slice(-6).map(e=>({role:e.role,content:e.content})),a='\u0422\u0435\u043c\u0430: "'.concat(s.topic,'" (').concat(s.category,").\n\u0412\u043e\u043f\u0440\u043e\u0441: ").concat(e),r=await(0,N.LZ)(a,t,d,{activeCategory:s.category});p(e=>[...e,{id:(0,k.$)(),role:"assistant",content:r,timestamp:new Date}])}catch(a){p(e=>[...e,{id:(0,k.$)(),role:"assistant",content:"\u26a0\ufe0f ".concat(g(a.code)||g("errors.apiError")),timestamp:new Date,error:!0}])}finally{_(!1)}},[S,u,s,d]),T=(0,r.useCallback)((e,t)=>{p(a=>a.map(a=>a.id===e?(0,y.A)((0,y.A)({},a),{},{rating:t}):a))},[]);return(0,x.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,x.jsxs)("div",{className:"w-full max-w-7xl h-[90vh] ".concat(E?"glass":"light-glass"," rounded-3xl shadow-2xl flex flex-col overflow-hidden"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between p-5 border-b ".concat(E?"border-white/10":"border-gray-200"),children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br ".concat(I.bgClass," border ").concat(I.borderClass," flex items-center justify-center"),children:(0,x.jsx)("span",{className:"text-xl",role:"img","aria-label":s.category,children:I.emoji})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-xl font-bold font-display ".concat(E?"text-white":"text-gray-900"),children:s.topic}),(0,x.jsx)("p",{className:"text-xs uppercase tracking-wider ".concat("text-gray-500"),children:s.category})]})]}),h&&(0,x.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-600/20 text-green-400 border border-green-500/30",children:g("progress.completed")}),(0,x.jsx)("button",{onClick:l,className:"p-2 rounded-xl transition-colors ".concat(E?"hover:bg-white/10":"hover:bg-gray-100"),children:(0,x.jsx)(w.A,{className:E?"text-gray-400":"text-gray-600",size:22})})]}),(0,x.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,x.jsxs)("div",{className:"".concat(M?"w-1/2":"w-full"," flex flex-col transition-all duration-300 min-w-0"),children:[(0,x.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,x.jsxs)("div",{className:"p-5 rounded-2xl ".concat(E?"bg-white/5 border border-white/10":"bg-gray-50 border border-gray-200"),children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,x.jsx)(j,{className:I.colorClass,size:18}),(0,x.jsx)("h3",{className:"text-base font-semibold ".concat(E?"text-white":"text-gray-900"),children:g("material.description")})]}),(0,x.jsx)("p",{className:"leading-relaxed ".concat(E?"text-gray-300":"text-gray-700"),children:s.content})]}),s.detailedContent&&(0,x.jsxs)("div",{className:"p-5 rounded-2xl ".concat(E?"bg-white/5 border border-white/10":"bg-gray-50 border border-gray-200"),children:[(0,x.jsx)("h3",{className:"text-base font-semibold mb-3 ".concat(E?"text-white":"text-gray-900"),children:g("material.detailedStudy")}),(0,x.jsx)("div",{className:"space-y-3 ".concat(E?"text-gray-300":"text-gray-700"),children:s.detailedContent.split("\n\n").map((e,t)=>(0,x.jsx)("p",{className:"leading-relaxed",children:e},t))})]}),(null===(t=s.examples)||void 0===t?void 0:t.length)>0&&(0,x.jsxs)("div",{className:"p-5 rounded-2xl ".concat(E?"bg-white/5 border border-white/10":"bg-gray-50 border border-gray-200"),children:[(0,x.jsx)("h3",{className:"text-base font-semibold mb-3 ".concat(E?"text-white":"text-gray-900"),children:g("material.examples")}),(0,x.jsx)("div",{className:"space-y-4",children:s.examples.map((e,t)=>(0,x.jsxs)("div",{className:"rounded-xl overflow-hidden border ".concat(E?"border-white/10":"border-gray-200"),children:[e.title&&(0,x.jsx)("div",{className:"px-4 py-2 text-xs font-semibold ".concat(E?"bg-white/5 text-gray-400":"bg-gray-100 text-gray-600"),children:e.title}),(0,x.jsx)("pre",{className:"p-4 text-sm overflow-x-auto whitespace-pre ".concat(E?"bg-black/40 text-green-400":"bg-gray-900 text-green-300"),children:(0,x.jsx)("code",{children:e.code})}),e.explanation&&(0,x.jsxs)("div",{className:"px-4 py-2 text-xs ".concat(E?"bg-white/3 text-gray-400":"bg-gray-50 text-gray-600"),children:["\ud83d\udca1 ",e.explanation]})]},t))})]}),(null===(a=s.keyPoints)||void 0===a?void 0:a.length)>0&&(0,x.jsxs)("div",{className:"p-5 rounded-2xl ".concat(E?"bg-white/5 border border-white/10":"bg-gray-50 border border-gray-200"),children:[(0,x.jsx)("h3",{className:"text-base font-semibold mb-3 ".concat(E?"text-white":"text-gray-900"),children:g("material.keyPoints")}),(0,x.jsx)("ul",{className:"space-y-2",children:s.keyPoints.map((e,t)=>(0,x.jsxs)("li",{className:"flex items-start gap-2 text-sm ".concat(E?"text-gray-300":"text-gray-700"),children:[(0,x.jsx)("span",{className:"mt-0.5 ".concat(I.colorClass),children:"\u25c6"}),e]},t))})]})]}),(0,x.jsx)("div",{className:"p-5 border-t ".concat(E?"border-white/10 bg-white/3":"border-gray-200 bg-white/60"),children:(0,x.jsxs)("div",{className:"flex gap-3",children:[(0,x.jsxs)("button",{onClick:()=>D(e=>!e),className:"flex-1 py-2.5 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2 text-sm ".concat(M?"bg-indigo-600 text-white hover:bg-indigo-700":E?"bg-white/10 text-gray-300 hover:bg-white/20 border border-white/10":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"),children:[(0,x.jsx)(f,{size:18}),g(M?"material.hideAI":"material.askAI")]}),(0,x.jsxs)("button",{onClick:P,className:"flex-1 py-2.5 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2 text-sm ".concat(h?"bg-green-600 text-white hover:bg-green-700 shadow-lg shadow-green-600/25":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-600/25"),children:[(0,x.jsx)(v,{size:18}),g(h?"material.completed":"material.markComplete")]})]})})]}),M&&(0,x.jsxs)("div",{className:"w-1/2 border-l ".concat(E?"border-white/10":"border-gray-200"," flex flex-col min-w-0"),children:[(0,x.jsxs)("div",{className:"p-4 border-b ".concat(E?"border-white/10 bg-white/3":"border-gray-200 bg-white/60"),children:[(0,x.jsx)("h3",{className:"font-semibold ".concat(E?"text-white":"text-gray-900"),children:g("material.aiHelper")}),(0,x.jsxs)("p",{className:"text-xs ".concat("text-gray-500"),children:[g("material.askQuestionAbout"),' "',s.topic,'"']})]}),(0,x.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[u.map(e=>(0,x.jsx)(A.Q,{message:e,onRate:T},e.id)),S&&(0,x.jsx)(z.I,{}),(0,x.jsx)("div",{ref:L})]})}),(0,x.jsx)("div",{className:"p-3 border-t ".concat(E?"border-white/10":"border-gray-200"),children:(0,x.jsx)(C.V,{onSend:R,loading:S})})]})]})]})})},_=(0,l.A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),M=(0,l.A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),D=(0,l.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),L=e=>{let{quiz:t,onClose:a,onComplete:s}=e;const{theme:l}=(0,n.D)(),{t:o}=(0,c.o)(),i="dark"===l,[d,g]=(0,r.useState)(0),[h,m]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[y,j]=(0,r.useState)(0),[f,v]=(0,r.useState)(!1),N=t.questions[d],k=d===t.questions.length-1,C=h===(null===N||void 0===N?void 0:N.correctAnswer),A=(0,r.useCallback)(e=>{u||m(e)},[u]),z=(0,r.useCallback)(()=>{null!==h&&(p(!0),h===N.correctAnswer&&j(e=>e+1))},[h,N]),q=(0,r.useCallback)(()=>{if(k){const e=y+(C?1:0);(0,b.A9)(t.id,e,t.questions.length),v(!0),s&&s(e,t.questions.length)}else g(e=>e+1),m(null),p(!1)},[k,y,C,t,s]),S=(0,r.useCallback)(()=>{g(0),m(null),p(!1),j(0),v(!1)},[]),L=f?y:y+(u&&C?1:0),E=Math.round(L/t.questions.length*100),I=E>=60;return f?(0,x.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,x.jsx)("div",{className:"w-full max-w-md rounded-xl p-6 ".concat(i?"bg-gray-800":"bg-white"," shadow-xl"),children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center ".concat(I?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:I?(0,x.jsx)(_,{size:40}):(0,x.jsx)(M,{size:40})}),(0,x.jsx)("h2",{className:"text-xl font-bold mb-2 ".concat(i?"text-white":"text-gray-900"),children:o("quiz.results")}),(0,x.jsxs)("p",{className:"text-3xl font-bold mb-2 ".concat(I?"text-green-600":"text-red-600"),children:[E,"%"]}),(0,x.jsxs)("p",{className:"mb-4 ".concat(i?"text-gray-300":"text-gray-600"),children:[o("quiz.score"),": ",L," ",o("quiz.of")," ",t.questions.length]}),(0,x.jsx)("p",{className:"text-lg font-medium mb-6 ".concat(I?"text-green-600":"text-red-600"),children:o(I?"quiz.passed":"quiz.failed")}),(0,x.jsxs)("div",{className:"flex gap-3",children:[(0,x.jsxs)("button",{onClick:S,className:"flex-1 py-2 px-4 rounded-lg font-medium flex items-center justify-center gap-2 ".concat(i?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:[(0,x.jsx)(D,{size:18}),o("quiz.tryAgain")]}),(0,x.jsx)("button",{onClick:a,className:"flex-1 py-2 px-4 rounded-lg font-medium bg-indigo-600 hover:bg-indigo-700 text-white",children:o("quiz.close")})]})]})})}):(0,x.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{className:"w-full max-w-lg rounded-xl ".concat(i?"bg-gray-800":"bg-white"," shadow-xl"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between p-4 border-b ".concat(i?"border-gray-700":"border-gray-200"),children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"font-bold ".concat(i?"text-white":"text-gray-900"),children:t.title}),(0,x.jsxs)("p",{className:"text-sm ".concat(i?"text-gray-400":"text-gray-500"),children:[o("quiz.question")," ",d+1," ",o("quiz.of")," ",t.questions.length]})]}),(0,x.jsx)("button",{onClick:a,className:"p-2 rounded-lg ".concat(i?"hover:bg-gray-700":"hover:bg-gray-100"),"aria-label":o("common.close"),children:(0,x.jsx)(w.A,{size:20,className:i?"text-gray-400":"text-gray-500"})})]}),(0,x.jsx)("div",{className:"h-1 ".concat(i?"bg-gray-700":"bg-gray-200"),children:(0,x.jsx)("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:"".concat((d+1)/t.questions.length*100,"%")}})}),(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsx)("h3",{className:"text-lg font-medium mb-4 ".concat(i?"text-white":"text-gray-900"),children:N.question}),(0,x.jsx)("div",{className:"space-y-3",children:N.options.map((e,t)=>{const a=h===t,r=t===N.correctAnswer;let s="w-full p-4 rounded-lg border-2 text-left transition ".concat(i?"border-gray-600":"border-gray-200");return u?r?s="w-full p-4 rounded-lg border-2 text-left transition border-green-500 ".concat(i?"bg-green-900/30":"bg-green-50"):a&&!r&&(s="w-full p-4 rounded-lg border-2 text-left transition border-red-500 ".concat(i?"bg-red-900/30":"bg-red-50")):a?s="w-full p-4 rounded-lg border-2 text-left transition border-indigo-500 ".concat(i?"bg-indigo-900/30":"bg-indigo-50"):s+=" ".concat(i?"hover:border-gray-500":"hover:border-gray-300"," cursor-pointer"),(0,x.jsx)("button",{onClick:()=>A(t),disabled:u,className:s,children:(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("span",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-medium ".concat(u&&r?"border-green-500 bg-green-500 text-white":u&&a&&!r?"border-red-500 bg-red-500 text-white":a?"border-indigo-500 bg-indigo-500 text-white":i?"border-gray-500 text-gray-400":"border-gray-300 text-gray-500"),children:String.fromCharCode(65+t)}),(0,x.jsx)("span",{className:i?"text-gray-200":"text-gray-700",children:e}),u&&r&&(0,x.jsx)(_,{size:20,className:"ml-auto text-green-500"}),u&&a&&!r&&(0,x.jsx)(M,{size:20,className:"ml-auto text-red-500"})]})},t)})}),u&&(0,x.jsx)("div",{className:"mt-4 p-3 rounded-lg ".concat(C?i?"bg-green-900/30 text-green-400":"bg-green-50 text-green-700":i?"bg-red-900/30 text-red-400":"bg-red-50 text-red-700"),children:C?o("quiz.correct"):"".concat(o("quiz.incorrect"),". ").concat(o("quiz.correctAnswer"),": ").concat(N.options[N.correctAnswer])})]}),(0,x.jsx)("div",{className:"p-4 border-t ".concat(i?"border-gray-700":"border-gray-200"),children:u?(0,x.jsx)("button",{onClick:q,className:"w-full py-3 rounded-lg font-medium bg-indigo-600 hover:bg-indigo-700 text-white transition",children:o(k?"quiz.finish":"quiz.next")}):(0,x.jsx)("button",{onClick:z,disabled:null===h,className:"w-full py-3 rounded-lg font-medium transition ".concat(null===h?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:o("quiz.checkAnswer")})})]})})};var E=a(7644);const I=e=>{var t;let{onCategoryChange:a,onProgressChange:l}=e;const{theme:d}=(0,n.D)(),{t:h,courseData:m}=(0,c.o)(),[u,y]=(0,r.useState)("all"),[w,j]=(0,r.useState)(!1),[f,v]=(0,r.useState)(0),[N,k]=(0,r.useState)(null),C=(0,r.useMemo)(()=>null!==m&&void 0!==m&&m.materials?"all"===u?Object.values(m.materials).flat():m.materials[u]||[]:[],[m,u]),A=(0,r.useMemo)(()=>"all"===u?null:(0,E.JR)(u),[u]),z=(0,r.useMemo)(()=>{if("all"===u||null===m||void 0===m||!m.materials)return null;const e=m.materials[u]||[],t=null===A||void 0===A?void 0:A.id;return(0,b.ev)(e,t)},[u,m,A,f]),q=(0,r.useMemo)(()=>A?(0,b.Tk)(A.id):null,[A,f]),_=(0,r.useCallback)(e=>{y(e),a&&a(e)},[a]),M=(0,r.useCallback)(()=>{v(e=>e+1),l&&l()},[l]),D=(0,r.useCallback)(()=>{v(e=>e+1),l&&l()},[l]),I="dark"===d;return m?(0,x.jsxs)("div",{className:"flex h-full gap-6",children:[(0,x.jsx)("aside",{className:"hidden lg:flex flex-col w-64 ".concat(I?"glass":"light-glass"," rounded-2xl p-4 gap-6"),children:(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsx)("div",{className:"px-3 py-2 text-xs font-bold ".concat(I?"text-gray-500":"text-gray-600"," uppercase tracking-wider"),children:h("knowledge.library")||"Library"}),(0,x.jsx)(g,{selectedCategory:u,onSelectCategory:_,courses:m.courses})]})}),(0,x.jsx)("main",{className:"flex-1 flex flex-col h-full overflow-hidden rounded-2xl relative",children:(0,x.jsxs)("div",{className:"flex-1 overflow-y-auto pb-10",children:[(0,x.jsx)("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-3xl font-bold ".concat(I?"text-white":"text-gray-900"," mb-2 font-display"),children:h("knowledge.title")||"Knowledge Base"}),(0,x.jsx)("p",{className:"".concat(I?"text-gray-400":"text-gray-600"," text-sm max-w-xl"),children:h("knowledge.subtitle")})]})}),"all"!==u&&z&&(0,x.jsxs)("div",{className:"mb-8 p-6 rounded-2xl ".concat(I?"glass-card":"light-glass-card"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(s.A,{size:18,className:I?"text-yellow-400":"text-yellow-600"}),(0,x.jsx)("span",{className:"font-medium ".concat(I?"text-white":"text-gray-900"),children:h("progress.title")})]}),A&&(0,x.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition ".concat(null!==q&&void 0!==q&&q.completed?I?"bg-green-600/20 text-green-400 hover:bg-green-600/30":"bg-green-100 text-green-700 hover:bg-green-200":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg"),children:[(0,x.jsx)(o,{size:18}),null!==q&&void 0!==q&&q.completed?"".concat(h("quiz.title"),": ").concat(q.score,"%"):h("quiz.takeQuiz")]})]}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,x.jsx)("span",{className:I?"text-gray-400":"text-gray-600",children:h("progress.materials")}),(0,x.jsxs)("span",{className:I?"text-white":"text-gray-900",children:[z.materialsCompleted," / ",z.materialsTotal]})]}),(0,x.jsx)("div",{className:"h-1.5 rounded-full overflow-hidden ".concat(I?"bg-white/10":"bg-gray-200"),children:(0,x.jsx)("div",{className:"h-full transition-all duration-500 ".concat(100===z.materialsProgress?"bg-green-500":"bg-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)]"),style:{width:"".concat(z.materialsProgress,"%")}})})]})]}),(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsx)("h3",{className:"text-lg font-semibold ".concat(I?"text-white":"text-gray-900"," mb-4"),children:"all"===u?h("knowledge.allModules")||"All Modules":null===(t=m.courses.find(e=>e.id===u))||void 0===t?void 0:t.name})}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:0===C.length?(0,x.jsxs)("div",{className:"col-span-full text-center py-12 ".concat(I?"text-gray-500":"text-gray-400"),children:[(0,x.jsx)(i.A,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),(0,x.jsx)("p",{children:h("knowledge.noMaterials")})]}):C.map(e=>(0,x.jsx)(p,{material:e,onOpen:()=>k(e)},"".concat(e.id,"-").concat(f)))})]})}),N&&(0,x.jsx)(S,{material:N,onClose:()=>{k(null),M()},onProgressChange:M}),w&&A&&(0,x.jsx)(L,{quiz:A,onClose:()=>j(!1),onComplete:D})]}):null}}}]);
//# sourceMappingURL=405.2880045e.chunk.js.map
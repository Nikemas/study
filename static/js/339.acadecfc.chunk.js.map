{"version":3,"file":"static/js/339.acadecfc.chunk.js","mappings":"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","sources":["components/Chat/ChatView.jsx","components/Chat/ChatInput.jsx","utils/formatters.js","components/Chat/CodeBlock.jsx","components/Chat/MessageRating.jsx","components/Chat/Message.jsx","components/Chat/LoadingIndicator.jsx"],"sourcesContent":["// src/components/Chat/ChatView.jsx\r\n\r\nimport { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Message } from './Message';\r\nimport { ChatInput } from './ChatInput';\r\nimport { LoadingIndicator } from './LoadingIndicator';\r\nimport { useSettings } from '../../contexts/SettingsContext';\r\n\r\nexport const ChatView = ({ messages, loading, onSend, onRate }) => {\r\n  const messagesEndRef = useRef(null);\r\n  const { playSound } = useSettings();\r\n  const prevMessagesLength = useRef(messages.length);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n\r\n    // Play sound for new messages\r\n    if (messages.length > prevMessagesLength.current) {\r\n      const lastMessage = messages[messages.length - 1];\r\n      if (lastMessage.role === 'user') {\r\n        playSound('message');\r\n      } else {\r\n        playSound('receive');\r\n      }\r\n      prevMessagesLength.current = messages.length;\r\n    }\r\n  }, [messages, playSound]);\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col relative\">\r\n      {/* Messages Area */}\r\n      <div className=\"flex-1 overflow-y-auto w-full max-w-4xl mx-auto px-4 pb-40 md:pb-32\">\r\n        <div className=\"flex flex-col gap-4 md:gap-10 py-4\">\r\n          {messages.map((msg) => (\r\n            <Message key={msg.id} message={msg} onRate={onRate} />\r\n          ))}\r\n          {loading && <LoadingIndicator />}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Fixed Input at Bottom */}\r\n      <div className=\"fixed bottom-20 md:bottom-8 left-0 right-0 px-4 flex flex-col items-center z-40 pointer-events-none\">\r\n        <div className=\"w-full max-w-3xl pointer-events-auto\">\r\n          <ChatInput onSend={onSend} loading={loading} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nChatView.propTypes = {\r\n  messages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      role: PropTypes.string.isRequired,\r\n      content: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  onSend: PropTypes.func.isRequired,\r\n  onRate: PropTypes.func.isRequired\r\n};\r\n","// src/components/Chat/ChatInput.jsx\n\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Send, Plus } from 'lucide-react';\nimport { useLanguage } from '../../contexts/LanguageContext';\nimport { LIMITS } from '../../constants';\n\nexport const ChatInput = ({ onSend, loading }) => {\n  const { t } = useLanguage();\n  const [input, setInput] = useState('');\n\n  const handleSend = () => {\n    const trimmedInput = input.trim();\n    if (trimmedInput && !loading && trimmedInput.length <= LIMITS.MAX_MESSAGE_LENGTH) {\n      onSend(trimmedInput);\n      setInput('');\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n    if (e.key === 'Escape') {\n      setInput('');\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"relative group\">\n        <div className=\"absolute -inset-0.5 bg-gradient-to-r from-primary to-accent opacity-20 blur transition duration-500\" />\n\n        <div className=\"relative flex items-center bg-surface border border-border rounded-lg p-2 transition-all duration-300\">\n          <button\n            type=\"button\"\n            className=\"p-2 text-muted hover:text-text hover:bg-border/30 transition-colors rounded-md\"\n            aria-label=\"Add attachment\"\n          >\n            <Plus className=\"w-5 h-5\" />\n          </button>\n\n          <label htmlFor=\"chat-input\" className=\"sr-only\">\n            {t('chat.inputLabel')}\n          </label>\n          <input\n            id=\"chat-input\"\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder={t('chat.placeholder')}\n            maxLength={LIMITS.MAX_MESSAGE_LENGTH}\n            className=\"w-full bg-transparent border-none text-text placeholder:text-muted focus:ring-0 text-sm py-3 px-2 focus:outline-none\"\n            disabled={loading}\n          />\n\n          <button\n            onClick={handleSend}\n            disabled={loading || !input.trim()}\n            className=\"p-2 bg-primary text-white hover:brightness-110 rounded-md transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n            aria-label={t('chat.sendLabel')}\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      <p className=\"text-center text-[10px] text-muted mt-3 font-medium tracking-wide\">\n        {t('chat.disclaimer') || 'AI can make mistakes. Consider checking important information.'}\n      </p>\n    </div>\n  );\n};\n\nChatInput.propTypes = {\n  onSend: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired\n};\r\n","// src/utils/formatters.js\r\n\r\nexport const formatTime = (date) => {\r\n  return new Date(date).toLocaleTimeString('ru-RU', { \r\n    hour: '2-digit', \r\n    minute: '2-digit' \r\n  });\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString('ru-RU', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric'\r\n  });\r\n};\r\n\r\nexport const formatDateTime = (date) => {\r\n  return new Date(date).toLocaleString('ru-RU', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n};","// src/components/Chat/CodeBlock.jsx\r\n\r\nimport { useState } from 'react';\r\nimport { Copy, Check } from 'lucide-react';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { vscDarkPlus, vs } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\n\r\nexport const CodeBlock = ({ language, value }) => {\r\n  const { theme } = useTheme();\r\n  const { t } = useLanguage();\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const handleCopy = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(value);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative group my-4\">\r\n      <button\r\n        onClick={handleCopy}\r\n        className=\"absolute right-2 top-2 p-2 rounded bg-gray-700 hover:bg-gray-600 text-white opacity-0 group-hover:opacity-100 transition-opacity z-10\"\r\n        title={copied ? t('common.copied') : t('common.copy')}\r\n        aria-label={copied ? t('common.copied') : t('common.copy')}\r\n      >\r\n        {copied ? (\r\n          <Check className=\"w-4 h-4 text-green-400\" aria-hidden=\"true\" />\r\n        ) : (\r\n          <Copy className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n        )}\r\n      </button>\r\n      <SyntaxHighlighter\r\n        language={language}\r\n        style={theme === 'dark' ? vscDarkPlus : vs}\r\n        customStyle={{\r\n          borderRadius: '0.5rem',\r\n          padding: '1rem',\r\n          fontSize: '0.875rem',\r\n          margin: 0\r\n        }}\r\n      >\r\n        {value}\r\n      </SyntaxHighlighter>\r\n    </div>\r\n  );\r\n};\r\n","// src/components/Chat/MessageRating.jsx\r\n\r\nimport { ThumbsUp, ThumbsDown } from 'lucide-react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\n\r\nexport const MessageRating = ({ rating, onRate }) => {\r\n  const { theme } = useTheme();\r\n\r\n  const getButtonClass = (type) => {\r\n    const isActive = rating === type;\r\n    const activeColor = type === 'up' ? 'text-green-500' : 'text-red-500';\r\n    const inactiveColor = theme === 'dark' ? 'text-gray-400' : 'text-gray-500';\r\n    return `p-1 rounded hover:bg-opacity-20 hover:bg-white transition ${isActive ? activeColor : inactiveColor}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-2\" role=\"group\" aria-label=\"Оценка ответа\">\r\n      <button\r\n        onClick={() => onRate('up')}\r\n        className={getButtonClass('up')}\r\n        title=\"Полезный ответ\"\r\n        aria-label=\"Отметить как полезный\"\r\n        aria-pressed={rating === 'up'}\r\n      >\r\n        <ThumbsUp className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n      </button>\r\n      <button\r\n        onClick={() => onRate('down')}\r\n        className={getButtonClass('down')}\r\n        title=\"Не помог\"\r\n        aria-label=\"Отметить как неполезный\"\r\n        aria-pressed={rating === 'down'}\r\n      >\r\n        <ThumbsDown className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","// src/components/Chat/Message.jsx\n\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport { Bot, User } from 'lucide-react';\nimport { useLanguage } from '../../contexts/LanguageContext';\nimport { formatTime } from '../../utils/formatters';\nimport { CodeBlock } from './CodeBlock';\nimport { MessageRating } from './MessageRating';\n\nexport const Message = memo(({ message, onRate }) => {\n  const { t } = useLanguage();\n  const isUser = message.role === 'user';\n\n  const handleRate = (value) => {\n    onRate(message.id, value);\n  };\n\n  if (isUser) {\n    return (\n      <article className=\"flex flex-row-reverse gap-2 md:gap-4 group animate-slideUp\">\n        <div className=\"flex-shrink-0 mt-1\">\n          <div className=\"w-8 h-8 rounded-full bg-primary/15 border border-border flex items-center justify-center\">\n            <User className=\"w-4 h-4 text-primary\" />\n          </div>\n        </div>\n\n        <div className=\"flex flex-col items-end gap-2 max-w-2xl\">\n          <div className=\"bg-primary/15 border border-border rounded-2xl rounded-tr-sm px-4 py-2 md:px-5 md:py-3 shadow-soft\">\n            <p className=\"text-sm text-text font-medium whitespace-pre-wrap\">\n              {message.content}\n            </p>\n          </div>\n          <span className=\"text-[10px] text-muted mr-1\">\n            {formatTime(message.timestamp)}\n          </span>\n        </div>\n      </article>\n    );\n  }\n\n  return (\n    <article className=\"flex gap-2 md:gap-4 group animate-slideUp\">\n      <div className=\"flex-shrink-0 mt-1\">\n        <div className=\"w-8 h-8 rounded-xl bg-surface border border-border flex items-center justify-center\">\n          <Bot className=\"w-4 h-4 text-accent\" />\n        </div>\n      </div>\n\n      <div className=\"flex flex-col gap-2 max-w-3xl w-full\">\n        <div className=\"flex items-baseline gap-2 mb-1\">\n          <span className=\"text-sm font-semibold text-text\">\n            {t('chat.assistant')}\n          </span>\n          <span className=\"text-[10px] text-muted\">\n            {formatTime(message.timestamp)}\n          </span>\n        </div>\n\n        <div className=\"prose max-w-none text-sm text-text\">\n          <ReactMarkdown\n            components={{\n              code({ node, inline, className, children, ...props }) {\n                const match = /language-(\\w+)/.exec(className || '');\n                return !inline && match ? (\n                  <CodeBlock\n                    language={match[1]}\n                    value={String(children).replace(/\\n$/, '')}\n                    {...props}\n                  />\n                ) : (\n                  <code\n                    className=\"text-primary bg-primary/10 px-1.5 py-0.5 rounded text-xs font-mono\"\n                    {...props}\n                  >\n                    {children}\n                  </code>\n                );\n              },\n              p({ children }) {\n                return <p className=\"leading-7 text-text\">{children}</p>;\n              },\n              strong({ children }) {\n                return <strong className=\"font-semibold text-text\">{children}</strong>;\n              },\n              ul({ children }) {\n                return <ul className=\"list-disc pl-4 space-y-1 mt-2 mb-4 text-muted marker:text-primary\">{children}</ul>;\n              },\n              ol({ children }) {\n                return <ol className=\"list-decimal pl-4 space-y-1 mt-2 mb-4 text-muted\">{children}</ol>;\n              }\n            }}\n          >\n            {message.content}\n          </ReactMarkdown>\n        </div>\n\n        <div className=\"flex gap-3 mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n          <MessageRating rating={message.rating} onRate={handleRate} />\n        </div>\n      </div>\n    </article>\n  );\n});\n\nMessage.propTypes = {\n  message: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    role: PropTypes.oneOf(['user', 'assistant']).isRequired,\n    content: PropTypes.string.isRequired,\n    timestamp: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n    rating: PropTypes.oneOf(['up', 'down', null]),\n    error: PropTypes.bool\n  }).isRequired,\n  onRate: PropTypes.func.isRequired\n};\r\n","// src/components/Chat/LoadingIndicator.jsx\r\n\r\nimport { Loader2 } from 'lucide-react';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { themeClasses } from '../../utils/themeUtils';\r\n\r\nexport const LoadingIndicator = () => {\r\n  const { theme } = useTheme();\r\n  const { t } = useLanguage();\r\n\r\n  return (\r\n    <div className=\"flex justify-start mb-4 animate-fadeIn\" role=\"status\" aria-live=\"polite\">\r\n      <div\r\n        className={`${themeClasses.card(theme)} border rounded-lg p-4 flex items-center gap-2 shadow-sm`}\r\n      >\r\n        <Loader2 className=\"w-4 h-4 animate-spin text-primary\" aria-hidden=\"true\" />\n        <span className={`${themeClasses.textSecondary(theme)} text-sm`}>\r\n          {t('chat.thinking')}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["ChatView","_ref","messages","loading","onSend","onRate","messagesEndRef","useRef","playSound","useSettings","prevMessagesLength","length","useEffect","_messagesEndRef$curre","current","scrollIntoView","behavior","role","_jsxs","className","children","_jsx","map","msg","Message","message","id","LoadingIndicator","ref","ChatInput","t","useLanguage","input","setInput","useState","handleSend","trimmedInput","trim","LIMITS","MAX_MESSAGE_LENGTH","type","Plus","htmlFor","value","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","placeholder","maxLength","disabled","onClick","Send","formatTime","date","Date","toLocaleTimeString","hour","minute","CodeBlock","language","theme","useTheme","copied","setCopied","async","navigator","clipboard","writeText","setTimeout","error","console","title","Check","Copy","SyntaxHighlighter","style","vscDarkPlus","vs","customStyle","borderRadius","padding","fontSize","margin","MessageRating","rating","getButtonClass","concat","ThumbsUp","ThumbsDown","memo","User","content","timestamp","Bot","ReactMarkdown","components","code","_ref2","node","inline","props","_objectWithoutProperties","_excluded","match","exec","_objectSpread","String","replace","p","_ref3","strong","_ref4","ul","_ref5","ol","_ref6","themeClasses","card","Loader2","textSecondary"],"ignoreList":[],"sourceRoot":""}
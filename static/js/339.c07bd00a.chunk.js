"use strict";(self.webpackChunkeducational_ai_platform=self.webpackChunkeducational_ai_platform||[]).push([[339],{1339(e,t,a){a.d(t,{ChatView:()=>o});var r=a(5043),s=a(6609),n=a(3246),i=a(7373),l=a(579);const o=e=>{let{messages:t,loading:a,onSend:o,onRate:c}=e;const d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]),(0,l.jsxs)("div",{className:"h-full flex flex-col relative",children:[(0,l.jsx)("div",{className:"flex-1 overflow-y-auto w-full max-w-4xl mx-auto px-4 pb-32",children:(0,l.jsxs)("div",{className:"flex flex-col gap-10 py-4",children:[t.map(e=>(0,l.jsx)(s.Q,{message:e,onRate:c},e.id)),a&&(0,l.jsx)(i.I,{}),(0,l.jsx)("div",{ref:d})]})}),(0,l.jsx)("div",{className:"fixed bottom-8 left-0 right-0 px-4 flex flex-col items-center z-40 pointer-events-none",children:(0,l.jsx)("div",{className:"w-full max-w-3xl pointer-events-auto",children:(0,l.jsx)(n.V,{onSend:o,loading:a})})})]})}},3246(e,t,a){a.d(t,{V:()=>d});var r=a(5043),s=a(2380),n=a(430),i=a(2771),l=a(9402),o=a(8250),c=a(579);const d=e=>{let{onSend:t,loading:a}=e;const{theme:d}=(0,i.D)(),{t:x}=(0,l.o)(),[m,h]=(0,r.useState)(""),g="dark"===d,p=()=>{const e=m.trim();e&&!a&&e.length<=o.b1.MAX_MESSAGE_LENGTH&&(t(e),h(""))};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"relative group",children:[(0,c.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl ".concat(g?"opacity-20 group-hover:opacity-40":"opacity-10 group-hover:opacity-20"," blur transition duration-500")}),(0,c.jsxs)("div",{className:"relative flex items-center ".concat(g?"glass-input":"bg-white border border-gray-300"," rounded-2xl p-2 transition-all duration-300"),children:[(0,c.jsx)("button",{type:"button",className:"p-2 ".concat(g?"text-gray-400 hover:text-white hover:bg-white/5":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"," transition-colors rounded-xl"),"aria-label":"Add attachment",children:(0,c.jsx)(s.A,{className:"w-5 h-5"})}),(0,c.jsx)("label",{htmlFor:"chat-input",className:"sr-only",children:x("chat.inputLabel")}),(0,c.jsx)("input",{id:"chat-input",type:"text",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p())},placeholder:x("chat.placeholder"),maxLength:o.b1.MAX_MESSAGE_LENGTH,className:"w-full bg-transparent border-none ".concat(g?"text-white placeholder-gray-500":"text-gray-900 placeholder-gray-400"," focus:ring-0 text-sm py-3 px-2 font-light focus:outline-none"),disabled:a}),(0,c.jsx)("button",{onClick:p,disabled:a||!m.trim(),className:"p-2 ".concat(g?"bg-white text-black hover:bg-gray-200 shadow-lg shadow-white/10":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-500/20"," rounded-xl transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"),"aria-label":x("chat.sendLabel"),children:(0,c.jsx)(n.A,{className:"w-5 h-5"})})]})]}),(0,c.jsx)("p",{className:"text-center text-[10px] ".concat(g?"text-gray-600":"text-gray-500"," mt-3 font-medium tracking-wide"),children:x("chat.disclaimer")||"AI can make mistakes. Consider checking important information."})]})}},6609(e,t,a){a.d(t,{Q:()=>N});var r=a(9379),s=a(3986),n=a(5043),i=a(5012),l=a(2817),o=a(95),c=a(2771),d=a(9402);const x=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});var m=a(1024),h=a(5979),g=a(6180),p=a(4187),u=a(5794),b=a(579);const y=e=>{let{language:t,value:a}=e;const{theme:r}=(0,c.D)(),{t:s}=(0,d.o)(),[i,l]=(0,n.useState)(!1);return(0,b.jsxs)("div",{className:"relative group my-4",children:[(0,b.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(a),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},className:"absolute right-2 top-2 p-2 rounded bg-gray-700 hover:bg-gray-600 text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",title:s(i?"common.copied":"common.copy"),"aria-label":s(i?"common.copied":"common.copy"),children:i?(0,b.jsx)(m.A,{className:"w-4 h-4 text-green-400","aria-hidden":"true"}):(0,b.jsx)(h.A,{className:"w-4 h-4","aria-hidden":"true"})}),(0,b.jsx)(g.A,{language:t,style:"dark"===r?p.A:u.A,customStyle:{borderRadius:"0.5rem",padding:"1rem",fontSize:"0.875rem",margin:0},children:a})]})};var w=a(7651),j=a(5648);const v=e=>{let{rating:t,onRate:a}=e;const{theme:r}=(0,c.D)(),s=e=>"p-1 rounded hover:bg-opacity-20 hover:bg-white transition ".concat(t===e?"up"===e?"text-green-500":"text-red-500":"dark"===r?"text-gray-400":"text-gray-500");return(0,b.jsxs)("div",{className:"flex gap-2",role:"group","aria-label":"\u041e\u0446\u0435\u043d\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430",children:[(0,b.jsx)("button",{onClick:()=>a("up"),className:s("up"),title:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442","aria-label":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439","aria-pressed":"up"===t,children:(0,b.jsx)(w.A,{className:"w-4 h-4","aria-hidden":"true"})}),(0,b.jsx)("button",{onClick:()=>a("down"),className:s("down"),title:"\u041d\u0435 \u043f\u043e\u043c\u043e\u0433","aria-label":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439","aria-pressed":"down"===t,children:(0,b.jsx)(j.A,{className:"w-4 h-4","aria-hidden":"true"})})]})},f=["node","inline","className","children"],N=(0,n.memo)(e=>{let{message:t,onRate:a}=e;const{theme:n}=(0,c.D)(),{t:m}=(0,d.o)(),h="user"===t.role,g="dark"===n;return h?(0,b.jsxs)("article",{className:"flex flex-row-reverse gap-4 group animate-slideUp",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,b.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(g?"bg-white/10 border border-white/5":"bg-gray-200 border border-gray-300"," flex items-center justify-center"),children:(0,b.jsx)(l.A,{className:"w-4 h-4 ".concat(g?"text-white":"text-gray-700")})})}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-2 max-w-2xl",children:[(0,b.jsx)("div",{className:"".concat(g?"glass border-primary/20 bg-primary/10":"bg-indigo-100 border border-indigo-200"," rounded-2xl rounded-tr-sm px-5 py-3 ").concat(g?"shadow-glow-sm":"shadow-sm"),children:(0,b.jsx)("p",{className:"text-sm ".concat(g?"text-white":"text-gray-900"," font-medium whitespace-pre-wrap"),children:t.content})}),(0,b.jsx)("span",{className:"text-[10px] ".concat(g?"text-gray-600":"text-gray-500"," mr-1"),children:x(t.timestamp)})]})]}):(0,b.jsxs)("article",{className:"flex gap-4 group animate-slideUp",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,b.jsx)("div",{className:"w-8 h-8 rounded-xl ".concat(g?"bg-surface border border-white/10":"bg-indigo-100 border border-indigo-200"," flex items-center justify-center text-primary ").concat(g?"shadow-glow-sm":""),children:(0,b.jsx)(o.A,{className:"w-4 h-4"})})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 max-w-3xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,b.jsx)("span",{className:"text-sm font-semibold ".concat(g?"text-white":"text-gray-900"),children:m("chat.assistant")}),(0,b.jsx)("span",{className:"text-[10px] ".concat(g?"text-gray-500":"text-gray-400"),children:x(t.timestamp)})]}),(0,b.jsx)("div",{className:"prose ".concat(g?"prose-invert":""," max-w-none text-sm"),children:(0,b.jsx)(i.$,{components:{code(e){let{node:t,inline:a,className:n,children:i}=e,l=(0,s.A)(e,f);const o=/language-(\w+)/.exec(n||"");return!a&&o?(0,b.jsx)(y,(0,r.A)({language:o[1],value:String(i).replace(/\n$/,"")},l)):(0,b.jsx)("code",(0,r.A)((0,r.A)({className:"".concat(g?"text-indigo-300 bg-indigo-500/10":"text-indigo-700 bg-indigo-100"," px-1.5 py-0.5 rounded text-xs font-mono")},l),{},{children:i}))},p(e){let{children:t}=e;return(0,b.jsx)("p",{className:"leading-7 ".concat(g?"text-gray-300":"text-gray-700"),children:t})},strong(e){let{children:t}=e;return(0,b.jsx)("strong",{className:"font-semibold ".concat(g?"text-white":"text-gray-900"),children:t})},ul(e){let{children:t}=e;return(0,b.jsx)("ul",{className:"list-disc pl-4 space-y-1 mt-2 mb-4 ".concat(g?"text-gray-400 marker:text-indigo-500":"text-gray-600 marker:text-indigo-600"),children:t})},ol(e){let{children:t}=e;return(0,b.jsx)("ol",{className:"list-decimal pl-4 space-y-1 mt-2 mb-4 ".concat(g?"text-gray-400":"text-gray-600"),children:t})}},children:t.content})}),(0,b.jsx)("div",{className:"flex gap-3 mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,b.jsx)(v,{rating:t.rating,onRate:e=>{a(t.id,e)}})})]})]})})},7373(e,t,a){a.d(t,{I:()=>c});var r=a(7772),s=a(2771),n=a(9402);const i=e=>"dark"===e?"text-gray-300":"text-gray-600",l=e=>"dark"===e?"bg-gray-800 border-gray-700":"bg-white border-gray-200";var o=a(579);const c=()=>{const{theme:e}=(0,s.D)(),{t:t}=(0,n.o)();return(0,o.jsx)("div",{className:"flex justify-start mb-4 animate-fadeIn",role:"status","aria-live":"polite",children:(0,o.jsxs)("div",{className:"".concat(l(e)," border rounded-lg p-4 flex items-center gap-2 shadow-sm"),children:[(0,o.jsx)(r.A,{className:"w-4 h-4 animate-spin text-indigo-600","aria-hidden":"true"}),(0,o.jsx)("span",{className:"".concat(i(e)," text-sm"),children:t("chat.thinking")})]})})}}}]);
//# sourceMappingURL=339.c07bd00a.chunk.js.map